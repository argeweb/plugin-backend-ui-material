{"version":3,"sources":["static/js/console.js","static/js/console.min.js"],"names":["ajax","url","data","successCallback","errorCallback","headers","$","type","cache","async","success","responseText","error","xhr","ajaxOptions","thrownError","show_message","message","json","dataType","a","b","c","d","json_async","replaceParam","replace","s","substring","indexOf","length","j","i","getRandID","undefined","charAt","Math","floor","random","print","target","aside","is_open","iframe","target_window","instance","contentWindow","progress_bar","dom","set","n","setTimeout","width","affix","top","addClass","removeClass","consoleDOD","evt","preventDefault","stopPropagation","focus","list","snackbarText","quick_show","msg","timeout","swal","title","html","timer","showConfirmButton","done","quick_info","sec","snackbar","alive","content","show","showAll","find","each","kind","$alert","this","hasClass","insert","ui","autoHide","text","moment","fromNow","last","remove","clearTimeout","hideTimer","hideTimerCount","hideAuto","parseInt","hide","parent","new_message","image","mini","msg_id","push","message_id","change","afterInsert","p","pop","tag","pid","insertHtml","prepend","css","format","Object","defineProperty","configurable","enumerable","writable","value","l","arguments","uploader","init","document","on","startUpload","pickup_target","pickup_target_is_editor","pickup","$target","ed","attr","click","fileInput","getElementById","file","files","addFile","response","item_key","item","__key__","selection","setContent","val","target_id","callback","upload","upload_url","upload_target","reader","FileReader","reader_info","readAsDataURL","onload","e","result","fd","FormData","XMLHttpRequest","xhr_info","upload_info","open","eval","currentTarget","onerror","onprogress","lengthComputable","complete","loaded","total","the_xhr","append","name","send","test","history","last_url","need_focus","is_init","loading_timer","loading_lock","selector","get","setBodyClass","window","onpopstate","popState","JSON","parse","localStorage","getItem","$linkList","event","i_text","t","trim","closeUi","load","location","hash","find_page","last_page","getState","referer_page","h","split","slice","join","hover","mouseover","mouseenter","contents","removeMask","reload","keep_aside","href","getUrl","showTimeout","pushState","showLoading","page","pageInit","is_ajax","class_name","referer_page_data","history_item","last_date","Date","now","visit","setItem","stringify","state","is_list","replaceState","search","keyword","current","resize","stop","animate","runAjax","showUi","shortcut","keys","lock","toString","console","log","key","filter","tagName","srcElement","setScope","handler","catchEvent","scope","window_name","shortcut_key","save_and_exit","save_form","change_lang","view","showSearchBox","toggleClass","closeSearchBox","jQuery","inArray","view_name","changeView","changeViewAndReload","closeMessageBox","setUserInformation","blob_url","background-image","mouseleave","keyup","which","left","setPageTitle"],"mappings":"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","file":"console.min.js","sourcesContent":["// yooliang material backend\r\n// 侑良管理後台\r\n// Version 1.01 (2016/08/21)\r\n// @requires jQuery v2 or later\r\n// Copyright (c) 2016 Qi-Liang Wen 啟良\r\nfunction ajax(url,data,successCallback,errorCallback,headers){$.ajax({url:url,type:\"GET\",headers: headers,cache: true,data:data,async:1,success:function(responseText){successCallback(responseText)},error:function(xhr,ajaxOptions,thrownError){if(errorCallback){errorCallback(xhr.responseText)}else{show_message(thrownError.message)}}})};\r\nfunction json(url,data,successCallback,errorCallback){$.ajax({url:url,type:\"POST\",dataType:\"json\",data:data,async:!1,success:function(a){successCallback(a)},error:function(b,c,d){void 0==errorCallback?show_message(d.message):errorCallback(d.message)}})};\r\nfunction json_async(url,data,successCallback,errorCallback){$.ajax({url:url,type:\"POST\",cache: false,dataType:\"json\",data:data,async:1,success:function(a){successCallback(a)},error:function(b,c,d){void 0==errorCallback?show_message(d.message):errorCallback(d.message)}})};\r\nfunction replaceParam(a,b,c){a=a.replace(\"#/\",\"\");var d=\"\";var m=a.substring(0,a.indexOf(\"?\"));var s=a.substring(a.indexOf(\"?\"),a.length);var j=0;if(a.indexOf(\"?\")>=0){var i=s.indexOf(b+\"=\");if(i>=0){j=s.indexOf(\"&\",i);if(j>=0){d=s.substring(i+b.length+1,j);s=a.replace(b+\"=\"+d,b+\"=\"+c)}else{d=s.substring(i+b.length+1,s.length);s=a.replace(b+\"=\"+d,b+\"=\"+c)}}else{s=a+\"&\"+b+\"=\"+c}}else{s=a+\"?\"+b+\"=\"+c}return s};\r\nfunction getRandID(a){if(a==undefined){a=\"rand-id-\"}var b=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";for(var i=0;i<5;i++)a+=b.charAt(Math.floor(Math.random()*b.length));return a};\r\n\r\nvar progress_bar = {\r\n    \"dom\": $(\".progress-bar\"),\r\n    \"set\": function(n){\r\n        setTimeout(function(){ progress_bar.dom.width(n + \"%\"); }, 0);\r\n        if (n==100){\r\n            setTimeout(function(){ progress_bar.dom.width(0); }, 2500);\r\n        }\r\n    }\r\n};\r\nvar affix = function(top){\r\n    if (top >= 25){\r\n        $(\"header.header\").addClass(\"affix\");\r\n    }else{\r\n        $(\"header.header\").removeClass(\"affix\");\r\n    }\r\n}\r\nvar consoleDOD = function(evt){\r\n    evt.preventDefault();\r\n    evt.stopPropagation();\r\n    iframe.focus();\r\n};\r\nvar message = {\r\n    \"list\": [],\r\n    \"snackbarText\": 1,\r\n    \"quick_show\": function(msg, timeout){\r\n        if (timeout !== undefined){\r\n            swal({\r\n              title: \"\",\r\n              html: msg,\r\n              timer: timeout,\r\n              showConfirmButton: false\r\n            }).done();\r\n        }else{\r\n            swal(msg).done();\r\n        }\r\n    },\r\n    \"quick_info\": function(msg, sec){\r\n\t\t$('body').snackbar({\r\n            alive: sec,\r\n\t\t\tcontent: msg,\r\n\t\t\tshow: function () {\r\n\t\t\t\tmessage.snackbarText++;\r\n\t\t\t}\r\n\t\t});\r\n    },\r\n    \"showAll\": function(target){\r\n        $(target).find(\".alert\").each(function(){\r\n            var kind = \"info\";\r\n            var $alert = $(this);\r\n            if ($alert.hasClass(\"alert-info\")){ kind = \"info\"; }\r\n            if ($alert.hasClass(\"alert-warning\")){ kind = \"warning\"; }\r\n            if ($alert.hasClass(\"alert-success\")){ kind = \"success\"; }\r\n            if ($alert.hasClass(\"alert-danger\")){ kind = \"danger\"; }\r\n            message.insert(kind, $alert.data(\"title\"), $alert.html(), $alert.data(\"image\"));\r\n        });\r\n    },\r\n    \"ui\":{\r\n        \"show\": function(autoHide){\r\n            $(\".alert-moment\").each(function(){\r\n                var d = $(this).data(\"create\");\r\n                $(this).text(moment(d).fromNow());\r\n            });\r\n            if ($(\".msg\").length > 25){\r\n                $(\".msg\").last().remove();\r\n            }\r\n            if (autoHide != undefined && autoHide == true){\r\n                clearTimeout(message.ui.hideTimer);\r\n                message.ui.hideTimerCount = 5;\r\n                message.ui.hideAuto();\r\n            }\r\n        },\r\n        \"hideAuto\": function(){\r\n            message.ui.hideTimerCount = parseInt(message.ui.hideTimerCount) - 1;\r\n            if (message.ui.hideTimerCount <= 0){\r\n                message.ui.hide();\r\n            }else{\r\n                message.ui.hideTimer = setTimeout(message.ui.hideAuto, 1000);\r\n            }\r\n        },\r\n        \"hide\": function(){\r\n            $(\"#message-box\").parent(\"li\").removeClass(\"open\");\r\n            message.ui.hideTimerCount = 0;\r\n        }\r\n    },\r\n    \"insert\": function(kind, title, new_message, image, mini){\r\n        var msg_id = getRandID(\"message-\");\r\n        if (new_message != undefined && new_message != \"\"){\r\n            message.list.push({\"kind\": kind, \"title\": title, \"text\": new_message, \"image\": image, \"message_id\": msg_id, \"mini\": mini});\r\n        }\r\n        return msg_id;\r\n    },\r\n    \"change\": function(message_id, kind, title, new_message, image, mini){\r\n        message.list.push({\"kind\": kind, \"title\": title, \"text\": new_message, \"image\": image, \"message_id\": message_id, \"mini\": mini});\r\n    },\r\n    \"afterInsert\": function(){\r\n        if (message.list.length > 0){\r\n            var p = message.list.pop();\r\n            if (p != undefined && p.text != \"\"){\r\n                var title = '';\r\n                var tag = '';\r\n                var image = '';\r\n                switch (p.kind) {\r\n                    case \"info\":\r\n                        tag = '<i class=\"glyphicon glyphicon-bullhorn\"></i>';\r\n                        title = '訊息';\r\n                        break;\r\n                    case \"warning\":\r\n                        tag = '<i class=\"glyphicon glyphicon-bell\"></i>';\r\n                        title = '注意';\r\n                        break;\r\n                    case \"danger\":\r\n                        tag = '<i class=\"glyphicon glyphicon-info-sign\"></i>';\r\n                        title = '錯誤';\r\n                        break;\r\n                    case \"success\":\r\n                        tag = '<i class=\"glyphicon glyphicon-ok\"></i>';\r\n                        title = '成功';\r\n                        break;\r\n                }\r\n                if (p.image != undefined && p.image != \"\"){\r\n                  tag = '<i class=\"glyphicon\"></i>';\r\n                  image = 'url(' + p.image  + ')';\r\n                }else{\r\n                  image = \"none\";\r\n                }\r\n                if (p.title != undefined && p.title != \"\"){ title = p.title; }\r\n                var pid = \"#\" + p.message_id;\r\n                if ($(pid).length == 0){\r\n                    var insertHtml =\r\n                        '<a class=\"tile waves-attach\" id=\"' + p.message_id + '\" href=\"javascript:void(0)\">' +\r\n                            '<div class=\"tile-side pull-left\">' +\r\n                                '<div class=\"avatar avatar-sm\">' +\r\n                                    '<div class=\"alert-tag\" style=\"background-size: cover;\"></div>' +\r\n                                '</div>' +\r\n                            '</div>' +\r\n                            '<div class=\"tile-inner text-black\">' +\r\n                                '<span class=\"alert-moment\"></span>' +\r\n                                '<span class=\"alert-title\"></span>' +\r\n                                '<span class=\"alert-text\"></span>' +\r\n                            '</div>' +\r\n                        '</a>';\r\n                    $(\"#message-box\").prepend(insertHtml);\r\n                }\r\n                $(pid).find(\".alert-tag\").html(tag).removeClass(\"alert-info alert-warning alert-danger alert-success\")\r\n                    .addClass(\"alert-\" + p.kind).css(\"background-image\", image);\r\n                $(pid).find(\".alert-moment\").data(\"create\", moment().format());\r\n                $(pid).find(\".alert-title\").text(title);\r\n                $(pid).find(\".alert-text\").html(p.text);\r\n                $(\"#message-count\").text($(\"#message-box li\").length -1);\r\n                var mini = false;\r\n                if (p.mini != undefined && p.mini == true){ mini = p.mini;}\r\n                if (mini == false){ message.ui.show(true); }\r\n            }\r\n        }\r\n    }\r\n};\r\nObject.defineProperty(message.list, \"push\", {\r\n    configurable: false,\r\n    enumerable: false, // hide from for...in\r\n    writable: false,\r\n    value: function () {\r\n        for (var i = 0, n = this.length, l = arguments.length; i < l; i++, n++) {\r\n            this[n] = arguments[i];\r\n            message.afterInsert(); // assign/raise your event\r\n        }\r\n        return n;\r\n    }\r\n});\r\n\r\nvar uploader = {\r\n    \"init\": function(){\r\n        $(document).on('change','#image-file-picker' , function(){\r\n            uploader.startUpload();\r\n        });\r\n    },\r\n    \"pickup_target\": null,\r\n    \"pickup_target_is_editor\": false,\r\n    \"pickup\": function($target, ed){\r\n        uploader.pickup_target = $target;\r\n        uploader.pickup_target_is_editor = ed;\r\n        if ($target.hasClass(\"image\")){\r\n            $(\"#image-file-picker\").attr(\"accept\", \"image/*\");\r\n        }else{\r\n            $(\"#image-file-picker\").attr(\"accept\", \"*\");\r\n        }\r\n        $(\"#image-file-picker\").click();\r\n    },\r\n    \"startUpload\": function(){\r\n        var fileInput = document.getElementById('image-file-picker');\r\n        var file = fileInput.files[0];\r\n        uploader.addFile(file, uploader.pickup_target, function(data){\r\n            var url = data.response.url;\r\n            var item_key = data.response.item.__key__;\r\n            if (uploader.pickup_target_is_editor) {\r\n                uploader.pickup_target.selection.setContent('<img src=\"' + url + '\" />');\r\n            }else{\r\n                uploader.pickup_target.val(url).data(\"key\", item_key).change();\r\n            }\r\n            $(\"#image-file-picker\").val(\"\");\r\n        });\r\n    },\r\n    \"addFile\": function(file, target_id, callback){\r\n        progress_bar.set(10);\r\n        var message_id = message.insert(\"info\", \"準備上傳\", \"等待中....\", undefined, true);\r\n        json_async(\"/admin/user_file/get.json\", null, function(data){\r\n            progress_bar.set(20);\r\n            uploader.upload({\r\n                \"message_id\": message_id,\r\n                \"upload_url\": data[\"url\"],\r\n                \"file\": file,\r\n                \"target_id\": target_id,\r\n                \"callback\": callback\r\n            });\r\n        }, function(data){\r\n            progress_bar.set(0);\r\n            message.change(message_id, \"danger\", \"發生錯誤\", \"無法取得上傳的路徑，請稍候再試一次\");\r\n        });\r\n    },\r\n    \"upload\": function(upload_target){\r\n        var reader = new FileReader();\r\n        reader.reader_info = upload_target;\r\n        reader.readAsDataURL(upload_target.file);\r\n        reader.onload = function(e){\r\n            this.reader_info.image = this.result;\r\n            progress_bar.set(30);\r\n            message.change(this.reader_info.message_id, \"info\", \"正在上傳\", \"等待中....\", this.reader_info.image, true);\r\n            var fd = new FormData();\r\n            var xhr = new XMLHttpRequest();\r\n            xhr.xhr_info = this.reader_info;\r\n            xhr.upload.upload_info = this.reader_info;\r\n            xhr.open('POST', this.reader_info.upload_url);\r\n            xhr.onload = function(data) {\r\n                progress_bar.set(100);\r\n                message.quick_info(\"上傳完成\");\r\n                message.change(this.xhr_info.message_id, \"success\", \"上傳完成\", \"100 %, 上傳完成\", this.xhr_info.image, true);\r\n                if (typeof this.xhr_info.callback === \"function\"){\r\n                    eval('var a = ' + data.currentTarget.response);\r\n                    this.xhr_info.callback({\r\n                        \"response\": a,\r\n                        \"target_id\": this.xhr_info.target_id\r\n                    });\r\n                }\r\n            };\r\n            xhr.onerror = function(e) {\r\n                message.change(this.xhr_info.message_id, \"danger\", \"上傳失敗\", \"請重整頁面後再試一次\", this.xhr_info.image, true);\r\n                progress_bar.set(0);\r\n            };\r\n            xhr.upload.onprogress = function (evt) {\r\n                if (evt.lengthComputable) {\r\n                    var complete = (evt.loaded / evt.total * 100 | 0);\r\n                    if(100==complete){\r\n                        complete=99.9;\r\n                    }\r\n                    var the_xhr = this;\r\n                    setTimeout(function(){\r\n                        message.change(the_xhr.upload_info.message_id, \"info\", \"正在上傳\", complete + ' %', the_xhr.upload_info.image, true);\r\n                    }, 0);\r\n                    progress_bar.set(complete);\r\n                }\r\n            };\r\n            fd.append('name', this.reader_info.file.name);\r\n            fd.append('content_type', this.reader_info.file.type);\r\n            fd.append('file', this.reader_info.file);\r\n            xhr.send(fd);//開始上傳\r\n        };\r\n        if(/image\\/\\w+/.test(upload_target.file.type)){\r\n        }\r\n    }\r\n};\r\nvar iframe = {\r\n    \"instance\": null,\r\n    \"history\": {},\r\n    \"last_url\": null,\r\n    \"need_focus\": false,\r\n    \"is_init\": false,\r\n    \"loading_timer\": null,\r\n    \"loading_lock\": false,\r\n    \"init\": function(selector){\r\n        if (this.is_init) return;\r\n        this.is_init = true;\r\n        this.instance = $(selector).get(0);\r\n        this.instance.contentWindow.setBodyClass(\"iframe\");\r\n        window.onpopstate = this.popState;\r\n        this.history = JSON.parse(localStorage.getItem('iframe.history'));\r\n        if (this.history == null || this.history == \"null\") this.history = [];\r\n        //  常用項目\r\n        //var sort_list = [];\r\n        //var $menu_usually = $(\"#menu_usually\");\r\n        //$menu_usually.parent().addClass(\"hidden\");\r\n        //$.map(iframe.history, function(n) { if (n.visit > 10){ sort_list.push(n); }});\r\n        //sort_list.sort(function(a, b) { return a.visit < b.visit; });\r\n        //var count = 0;\r\n        //$.map(sort_list, function(n){\r\n        //    if (count < 5){\r\n        //        count++;\r\n        //        $menu_usually.append('<li><a class=\"waves-attach\" href=\"'+ n.href +'\" target=\"content_iframe\">'+ n.text +'</a></li>');\r\n        //        $menu_usually.parent().removeClass(\"hidden\");\r\n        //    }\r\n        //});\r\n        // ====\r\n        var $linkList = $(\"a[target=content_iframe]\");\r\n        $linkList.click(function(event){\r\n            var i_text = $(this).find(\".icon\").text() ? ($(this).find(\".icon\").length>0) : \"\";\r\n            var t = $(this).text().replace(i_text, \"\").trim();\r\n            if ($(this).hasClass(\"main-link\")){ aside.closeUi(); }\r\n            iframe.load($(this).attr(\"href\"), t);\r\n            event.preventDefault();\r\n        });\r\n        var b = $(\"body\").data(\"dashboard-name\");\r\n        if(window.location.hash) {\r\n            var find_page =false;\r\n            var hash = window.location.hash.replace(\"#\", \"\");\r\n            $linkList.each(function(){\r\n                if ($(this).attr(\"href\") == hash){\r\n                    find_page = true;\r\n                    $(this).click();\r\n                }\r\n            });\r\n            if (find_page==false){\r\n                var last_page = this.getState(hash);\r\n                if (last_page != null){\r\n                    iframe.load(hash, last_page.text, last_page.referer_page);\r\n                }else{\r\n                    var h = hash.split(\"/\").slice(0, 3).join(\"/\");\r\n                    $linkList.each(function(){\r\n                        if ($(this).attr(\"href\") == h){\r\n                            find_page = true;\r\n                            $(this).click();\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            if (find_page==false){\r\n                iframe.load(\"/\"+b+\"/welcome\", \"Welcome\");\r\n            }\r\n        }else{\r\n            iframe.load(\"/\"+b+\"/welcome\", \"Welcome\");\r\n        }\r\n        $(\".content\").hover(function(){ }, function(){\r\n            setTimeout(function(){\r\n                if (iframe.need_focus == false){\r\n                    $(\".iframe_mask\").show();\r\n                }\r\n            }, 800);\r\n        });\r\n        $(\".iframe_mask\").hover(iframe.focus, function(){ iframe.need_focus = false; }).mouseover(iframe.focus).mouseenter(iframe.focus).click(iframe.focus)\r\n    },\r\n    \"focus\": function(){\r\n        $(\".iframe_mask\").hide();\r\n        iframe.need_focus = true;\r\n        iframe.instance.contentWindow.focus();\r\n        var contents = null;\r\n        try{\r\n            contents = $(this.instance).contents();\r\n        }catch(e){\r\n            contents = this.instance.contents();\r\n        }\r\n        contents.find('body').click();\r\n    },\r\n    \"removeMask\": function(){\r\n        iframe.need_focus = true;\r\n        $(\".iframe_mask\").hide();\r\n    },\r\n    \"reload\": function(keep_aside){\r\n        if (!(keep_aside && keep_aside == true)) aside.closeUi();\r\n        var last_page = this.getState();\r\n        if (last_page != null) {\r\n            iframe.load(last_page.href, last_page.text, last_page.referer_page);\r\n        }\r\n        //this.instance.contentWindow.location.reload();\r\n    },\r\n    \"getUrl\": function(){\r\n        //return this.instance.contentWindow.location.pathname;\r\n        return this.last_url;\r\n    },\r\n    \"load\": function(url, text, referer_page){\r\n        affix(0);\r\n        if (this.loading_lock == true) return false;\r\n        this.loading_lock = true;\r\n        clearTimeout(this.loading_timer);\r\n        this.loading_timer = setTimeout(function(){\r\n            iframe.instance.contentWindow.showTimeout();\r\n        }, 25000);\r\n        this.last_url = url;\r\n        this.pushState(url , text, referer_page);\r\n        iframe.instance.contentWindow.showLoading(function(){\r\n            ajax(url, null, function(page){\r\n                var data = iframe.getState();\r\n                if (data) history.pushState(data, data.text, \"#\" + data.href);\r\n                clearTimeout(iframe.loading_timer);\r\n                iframe.loading_lock = false;\r\n                iframe.instance.contentWindow.pageInit(page);\r\n            }, function(page){\r\n                clearTimeout(iframe.loading_timer);\r\n                iframe.loading_lock = false;\r\n                iframe.instance.contentWindow.pageInit(page);\r\n                return false;\r\n            }, {\r\n                \"is_ajax\": \"true\"\r\n            });\r\n        });\r\n    },\r\n    \"addClass\": function(class_name){\r\n        var contents = null;\r\n        try{\r\n            contents = $(this.instance).contents();\r\n        }catch(e){\r\n            contents = this.instance.contents();\r\n        }\r\n        contents.find(\"body\").addClass(class_name);\r\n    },\r\n    \"removeClass\": function(class_name){\r\n        var contents = null;\r\n        try{\r\n            contents = $(this.instance).contents();\r\n        }catch(e){\r\n            contents = this.instance.contents();\r\n        }\r\n        contents.find(\"body\").removeClass(class_name);\r\n    },\r\n    \"getState\": function(url) {\r\n        if (typeof url === \"undefined\") url = iframe.getUrl();\r\n        if (url in this.history){\r\n            return iframe.history[url];\r\n        }\r\n        return null;\r\n    },\r\n    \"pushState\": function(url, text, referer_page){\r\n        var referer_page_data = this.getState(referer_page);\r\n        if (referer_page_data && referer_page_data.referer_page){\r\n            referer_page = referer_page_data.referer_page;\r\n        }\r\n        var history_item = null;\r\n        if (url in this.history){\r\n            history_item = iframe.history[url];\r\n            history_item.last_date = Date.now();\r\n            if (history_item.visit){\r\n                history_item.visit++;\r\n            }else{\r\n                history_item.visit = 1\r\n            }\r\n            localStorage.setItem('iframe.history', JSON.stringify(this.history));\r\n            return false;\r\n        }\r\n        this.history[url] ={\r\n            \"href\": url,\r\n            \"text\": text,\r\n            \"visit\": 1,\r\n            \"last_date\": Date.now(),\r\n            \"referer_page\": referer_page\r\n        };\r\n        localStorage.setItem('iframe.history', JSON.stringify(this.history));\r\n    },\r\n    \"popState\": function(event){\r\n        var s = event.state;\r\n        if (s){\r\n            iframe.load(s.href, s.text, s.is_list);\r\n            window.history.replaceState( s , s.text, \"#\" + s.href);\r\n        }\r\n    },\r\n    \"search\": function(keyword){\r\n        var url = \"\";\r\n        var current = this.last_url;\r\n        if (keyword != undefined && keyword != \"\"){\r\n            url = replaceParam(current, \"query\", keyword);\r\n            url = replaceParam(url, \"cursor\", \"\");\r\n            url = url.replace(\"?cursor=none\", \"?\");\r\n            url = url.replace(\"&cursor=none\", \"\");\r\n            this.load(url);\r\n        }\r\n        if (keyword == \"\"){\r\n            url = replaceParam(current, \"query\", \"\");\r\n            url = url.replace(\"query=\", \"\");\r\n            this.load(url);\r\n        }\r\n    }\r\n};\r\nvar aside = {\r\n    \"instance\": null,\r\n    \"is_open\": false,\r\n    \"last_url\": null,\r\n    \"is_init\": false,\r\n    \"loading_timer\": null,\r\n    \"loading_lock\": false,\r\n    \"init\": function(selector){\r\n        if (this.is_init) return;\r\n        this.is_init = true;\r\n        this.instance = $(selector).get(0);\r\n        this.instance.contentWindow.setBodyClass(\"aside\");\r\n        $(window).resize(function(){\r\n            $(\"#aside_iframe.open\").stop().animate({\"width\": ($(window).width() < 992) ? \"100%\" : \"52%\"}, 200);\r\n        })\r\n    },\r\n    \"load\": function(url){\r\n        if (this.loading_lock == true) return false;\r\n        this.loading_lock = true;\r\n        clearTimeout(this.loading_timer);\r\n        this.loading_timer = setTimeout(function(){\r\n            aside.loading_lock = false;\r\n            aside.instance.contentWindow.showTimeout();\r\n        }, 250000);\r\n\r\n        this.last_url = url;\r\n        if (this.is_open) {\r\n            aside.instance.contentWindow.showLoading(function(){\r\n                aside.runAjax(url);\r\n            });\r\n        }else{\r\n            aside.showUi();\r\n            aside.instance.contentWindow.showLoading(function(){\r\n                aside.runAjax(url);\r\n            });\r\n        }\r\n        //contents.find(\"head\").append(\r\n        //    $(\"<link/>\", { rel: \"stylesheet\", href: '/plugins/backend_ui_material/static/css/style.min.css?v=4.1.0', type: \"text/css\" })\r\n        //);\r\n    },\r\n    \"reload\": function(){\r\n        this.load(this.last_url);\r\n    },\r\n    \"runAjax\": function(url){\r\n        var headers = {\r\n            \"is_ajax\": \"true\",\r\n            \"aside\": \"aside\"\r\n        };\r\n        ajax(url, null, function(page){\r\n            clearTimeout(aside.loading_timer);\r\n            aside.loading_lock = false;\r\n            aside.instance.contentWindow.pageInit(page);\r\n        }, function(page){\r\n            clearTimeout(aside.loading_timer);\r\n            aside.loading_lock = false;\r\n            aside.instance.contentWindow.pageInit(page);\r\n        }, headers);\r\n    },\r\n    \"showUi\": function(callback){\r\n        $(\"#aside_iframe\").stop().animate({\"width\": ($(window).width() < 992) ? \"100%\" : \"52%\"}, 500, function(){\r\n            aside.is_open = true;\r\n            if (typeof callback === \"function\") callback();\r\n            $(this).addClass(\"open\");\r\n        });\r\n    },\r\n    \"closeUi\": function(callback){\r\n        $(\"#aside_iframe\").stop().animate({\"width\": \"0\"}, 500, function(){\r\n            aside.is_open = false;\r\n            if (typeof callback === \"function\") callback();\r\n            $(this).removeClass(\"open\");\r\n        });\r\n    }\r\n};\r\nfunction print(){\r\n    var target = aside.is_open ? aside : iframe;\r\n    var target_window = target.instance.contentWindow;\r\n    target_window.print();\r\n}\r\nvar shortcut = {\r\n    keys: 'ctrl+r, `, ctrl+s, ctrl+shift+s, ctrl+p, esc, f5, ctrl+f5, alt+s, ' +\r\n    'alt+1, alt+2, alt+3, alt+4, alt+5, alt+6, alt+7, alt+8, alt+9, /, shift+/',\r\n    timer: null,\r\n    lock: false,\r\n    \"init\": function(){\r\n        var s = [];\r\n        var n = 1;\r\n        $(\".op-mode a\").each(function(){\r\n            s.push($(this).data(\"view-key\"));\r\n            s.push(n.toString());\r\n            n++;\r\n        });\r\n        shortcut.keys += \", \" + s.join(\", \");\r\n        console.log(shortcut.keys);\r\n        key.filter = function(event){\r\n            var tagName = (event.target || event.srcElement).tagName;\r\n            key.setScope(/^(INPUT|TEXTAREA|SELECT)$/.test(tagName) ? 'input' : 'doc');\r\n            return true;\r\n        };\r\n        key(shortcut.keys, 'doc', function(event, handler){ return shortcut.catchEvent(window.name, handler.shortcut, handler.scope); });\r\n        key(shortcut.keys, 'input', function(event, handler){ return shortcut.catchEvent(window.name, handler.shortcut, handler.scope); });\r\n    },\r\n    \"catchEvent\": function(window_name, shortcut_key, scope){\r\n        var target = aside.is_open ? aside : iframe;\r\n        var target_window = target.instance.contentWindow;\r\n        console.log(window_name, shortcut_key, scope);\r\n\r\n        switch (shortcut_key) {\r\n            case 'ctrl+p': target_window.print(); break;\r\n            case 'f5':\r\n            case 'ctrl+r':\r\n            case 'ctrl+f5': target.reload(); break;\r\n        }\r\n        if (aside.is_open){\r\n            switch (shortcut_key) {\r\n                case 'ctrl+shift+s': target_window.save_and_exit(); break;\r\n                case 'ctrl+s': target_window.save_form(); break;\r\n                case 'alt+1': case 'alt+2': case 'alt+3': case 'alt+4': case 'alt+5': case 'alt+6': case 'alt+7': case 'alt+8':case 'alt+9':\r\n                    target_window.change_lang(parseInt(shortcut_key.replace('alt+', ''))-1);\r\n                    break;\r\n            }\r\n        }\r\n        if (scope != \"input\"){\r\n            var s = [];\r\n            var n = 1;\r\n            $(\".op-mode a\").each(function(){\r\n                if (shortcut_key == $(this).data(\"view-key\") || shortcut_key == n.toString()){\r\n                    view.change($(this).data(\"view\"));\r\n                }\r\n                n++;\r\n            });\r\n            switch (shortcut_key) {\r\n                case '/':\r\n                    ui.showSearchBox();\r\n                    return false;\r\n                case 'shift+/':\r\n                    console.log(\"help\");\r\n                    break;\r\n                case 'alt+s':\r\n                    $(\"body\").toggleClass(\"sortTag\");\r\n                    break;\r\n                case '`':\r\n                    if (aside.is_open)\r\n                        aside.closeUi();\r\n                    else\r\n                        aside.showUi();\r\n                    break;\r\n                case 'esc':\r\n                    if (shortcut.lock == true){\r\n                        shortcut.lock = false;\r\n                        aside.closeUi();\r\n                        return false;\r\n                    }\r\n                    shortcut.lock = true;\r\n                    clearTimeout(shortcut.timer);\r\n                    shortcut.timer = setTimeout(function(){\r\n                        shortcut.lock = false;\r\n                    }, 400);\r\n                    break;\r\n            }\r\n        }\r\n        if (scope == \"input\"){\r\n            switch (shortcut_key) {\r\n                case 'esc':\r\n                    ui.closeSearchBox();\r\n                    return false;\r\n            }\r\n        }\r\n        if (jQuery.inArray(shortcut_key, ['ctrl+shift+s', 'ctrl+s', 'ctrl+r', 'ctrl+f5', 'f5', 'ctrl+p']) >-1){\r\n            return false;\r\n        }\r\n    }\r\n};\r\nvar view = {\r\n    \"current\": \"edit\",\r\n    \"change\": function(view_name){\r\n        if (window.name == \"\"){\r\n            this.current = view_name;\r\n            $(\"body\").removeClass(\"in-view-mode\").removeClass(\"in-edit-mode\").removeClass(\"in-delete-mode\").removeClass(\"in-sort-mode\").addClass(\"in-\"+view_name+\"-mode\");\r\n            if (view_name == \"sort\"){\r\n                iframe.addClass(\"in-sort-mode\");\r\n            }else{\r\n                iframe.removeClass(\"in-sort-mode\");\r\n            }\r\n            iframe.instance.contentWindow.changeView();\r\n            if (aside.is_open){\r\n                aside.instance.contentWindow.changeViewAndReload();\r\n            }\r\n        }\r\n    }\r\n};\r\nvar ui = {\r\n    \"closeMessageBox\": function(){ $(\"header\").click(); },\r\n    \"showSearchBox\": function(){ $(\"#keyword\").click().focus();},\r\n    \"closeSearchBox\": function(){ $(\".page-overlay a\").focus(); $(\".page-overlay\").click(); },\r\n    \"setUserInformation\": function(name, blob_url){\r\n        var href = iframe.last_url;\r\n        if (href.indexOf('/admin/application_user/%3A') >= 0) {\r\n            if (href.indexOf($(\"body\").data(\"user\")) > 0) {\r\n                $(\".user-box .avatar\").css({\"background-image\": 'url(' + blob_url + ')'});\r\n                $(\".user-name a\").text(name);\r\n            }\r\n        }\r\n        if (href.indexOf('/admin/application_user/profile') >= 0){\r\n            $(\".user-box .avatar\").css({\"background-image\": 'url(' + blob_url + ')'});\r\n            $(\".user-name a\").text(name);\r\n        }\r\n    }\r\n};\r\n\r\n$(function(){\r\n    uploader.init();\r\n    shortcut.init();\r\n    //$(document).bind(\"keydown\", function(e) {\r\n    //    short_key(window.name, e);\r\n    //});\r\n\r\n    $(\".scrollDiv\").hover(function(){\r\n        $(this).addClass(\"on\");\r\n        iframe.need_focus = false;\r\n    }, function(){\r\n        $(this).removeClass(\"on\");\r\n    }).mouseover(function(){\r\n        $(this).addClass(\"on\");\r\n    }).mouseover(function(){\r\n        $(this).addClass(\"on\");\r\n    }).mouseleave(function() {\r\n        $(this).removeClass(\"on\");\r\n    });\r\n\r\n    $(\".enter-sorting-mode\").click(function(){ view.change(\"sort\")});\r\n    $(\".enter-view-mode\").click(function(){ view.change(\"view\")});\r\n    $(\".enter-edit-mode\").click(function(){ view.change(\"edit\")});\r\n    $(\".enter-delete-mode\").click(function(){ view.change(\"delete\")});\r\n    $(\".page-overlay\").click(function(){$(\"div.search-bar, .page-overlay\").removeClass(\"on\");$(\"body\").removeClass(\"on-search\");});\r\n    $(\"#keyword\").focus(function(){\r\n        ui.closeMessageBox();\r\n        $(\"div.search-bar, .page-overlay\").addClass(\"on\");\r\n        $(\"body\").addClass(\"on-search\");\r\n    }).keyup(function(event){\r\n        if (event.which == 13) {\r\n            event.preventDefault();\r\n            iframe.search($(this).val());\r\n        }\r\n    });\r\n    $(\".menu-link\").click(function(event){\r\n        var target_id = $(this).attr(\"href\");\r\n        if ($(target_id).hasClass(\"in\")){\r\n            event.stopPropagation();\r\n            event.preventDefault();\r\n            $(target_id).removeClass(\"in\").animate({\"left\": -300}, function(){\r\n                //$(this).css({\"position\": \"relative\", \"top\": \"0\"});\r\n                //$(target_id);\r\n            });\r\n            $(\"#main-nav\").show().animate({\"left\": 0});\r\n        }else{\r\n            event.stopPropagation();\r\n            event.preventDefault();\r\n            $(\"#main-nav\").animate({\"left\": -300}, function(){\r\n                $(this).hide();\r\n            });\r\n            $(target_id).animate({\"left\": 0}, function(){\r\n                $(target_id).addClass(\"in\");\r\n            });\r\n        }\r\n    });\r\n});\r\n","function ajax(url,data,successCallback,errorCallback,headers){$.ajax({url:url,type:\"GET\",headers:headers,cache:true,data:data,async:1,success:function(responseText){successCallback(responseText);},error:function(xhr,ajaxOptions,thrownError){if(errorCallback){errorCallback(xhr.responseText);}else{show_message(thrownError.message);}}});}function json(url,data,successCallback,errorCallback){$.ajax({url:url,type:\"POST\",dataType:\"json\",data:data,async:!1,success:function(a){successCallback(a);},error:function(b,c,d){void 0==errorCallback?show_message(d.message):errorCallback(d.message);}});}function json_async(url,data,successCallback,errorCallback){$.ajax({url:url,type:\"POST\",cache:false,dataType:\"json\",data:data,async:1,success:function(a){successCallback(a);},error:function(b,c,d){void 0==errorCallback?show_message(d.message):errorCallback(d.message);}});}function replaceParam(a,b,c){a=a.replace(\"#/\",\"\");var d=\"\";var m=a.substring(0,a.indexOf(\"?\"));var s=a.substring(a.indexOf(\"?\"),a.length);var j=0;if(a.indexOf(\"?\")>=0){var i=s.indexOf(b+\"=\");if(i>=0){j=s.indexOf(\"&\",i);if(j>=0){d=s.substring(i+b.length+1,j);s=a.replace(b+\"=\"+d,b+\"=\"+c);}else{d=s.substring(i+b.length+1,s.length);s=a.replace(b+\"=\"+d,b+\"=\"+c);}}else{s=a+\"&\"+b+\"=\"+c;}}else{s=a+\"?\"+b+\"=\"+c;}return s;}function getRandID(a){if(a==undefined){a=\"rand-id-\";}var b=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";for(var i=0;i<5;i++){a+=b.charAt(Math.floor(Math.random()*b.length));}return a;}var progress_bar={\"dom\":$(\".progress-bar\"),\"set\":function(n){setTimeout(function(){progress_bar.dom.width(n+\"%\");},0);if(n==100){setTimeout(function(){progress_bar.dom.width(0);},2500);}}};var consoleDOD=function(evt){evt.preventDefault();evt.stopPropagation();iframe.focus();};var message={\"list\":[],\"snackbarText\":1,\"quick_show\":function(msg,timeout){if(timeout!==undefined){swal({title:msg,html:msg,timer:timeout,showConfirmButton:false}).done();}else{swal(msg).done();}},\"quick_info\":function(msg,sec){$(\"body\").snackbar({alive:sec,content:msg,show:function(){message.snackbarText++;}});},\"showAll\":function(target){$(target).find(\".alert\").each(function(){var kind=\"info\";var $alert=$(this);if($alert.hasClass(\"alert-info\")){kind=\"info\";}if($alert.hasClass(\"alert-warning\")){kind=\"warning\";}if($alert.hasClass(\"alert-success\")){kind=\"success\";}if($alert.hasClass(\"alert-danger\")){kind=\"danger\";}message.insert(kind,$alert.data(\"title\"),$alert.html(),$alert.data(\"image\"));});},\"ui\":{\"show\":function(autoHide){$(\".alert-moment\").each(function(){var d=$(this).data(\"create\");$(this).text(moment(d).fromNow());});if($(\".msg\").length>25){$(\".msg\").last().remove();}if(autoHide!=undefined&&autoHide==true){clearTimeout(message.ui.hideTimer);message.ui.hideTimerCount=5;message.ui.hideAuto();}},\"hideAuto\":function(){message.ui.hideTimerCount=parseInt(message.ui.hideTimerCount)-1;if(message.ui.hideTimerCount<=0){message.ui.hide();}else{message.ui.hideTimer=setTimeout(message.ui.hideAuto,1000);}},\"hide\":function(){$(\"#message-box\").parent(\"li\").removeClass(\"open\");message.ui.hideTimerCount=0;}},\"insert\":function(kind,title,new_message,image,mini){var msg_id=getRandID(\"message-\");if(new_message!=undefined&&new_message!=\"\"){message.list.push({\"kind\":kind,\"title\":title,\"text\":new_message,\"image\":image,\"message_id\":msg_id,\"mini\":mini});}return msg_id;},\"change\":function(message_id,kind,title,new_message,image,mini){message.list.push({\"kind\":kind,\"title\":title,\"text\":new_message,\"image\":image,\"message_id\":message_id,\"mini\":mini});},\"afterInsert\":function(){if(message.list.length>0){var p=message.list.pop();if(p!=undefined&&p.text!=\"\"){var title=\"\";var tag=\"\";var image=\"\";switch(p.kind){case\"info\":tag='<i class=\"glyphicon glyphicon-bullhorn\"></i>';title=\"訊息\";break;case\"warning\":tag='<i class=\"glyphicon glyphicon-bell\"></i>';title=\"注意\";break;case\"danger\":tag='<i class=\"glyphicon glyphicon-info-sign\"></i>';title=\"錯誤\";break;case\"success\":tag='<i class=\"glyphicon glyphicon-ok\"></i>';title=\"成功\";break;}if(p.image!=undefined&&p.image!=\"\"){tag='<i class=\"glyphicon\"></i>';image=\"url(\"+p.image+\")\";}else{image=\"none\";}if(p.title!=undefined&&p.title!=\"\"){title=p.title;}var pid=\"#\"+p.message_id;if($(pid).length==0){var insertHtml='<a class=\"tile waves-attach\" id=\"'+p.message_id+'\" href=\"javascript:void(0)\">'+'<div class=\"tile-side pull-left\">'+'<div class=\"avatar avatar-sm\">'+'<div class=\"alert-tag\" style=\"background-size: cover;\"></div>'+\"</div>\"+\"</div>\"+'<div class=\"tile-inner text-black\">'+'<span class=\"alert-moment\"></span>'+'<span class=\"alert-title\"></span>'+'<span class=\"alert-text\"></span>'+\"</div>\"+\"</a>\";$(\"#message-box\").prepend(insertHtml);}$(pid).find(\".alert-tag\").html(tag).removeClass(\"alert-info alert-warning alert-danger alert-success\").addClass(\"alert-\"+p.kind).css(\"background-image\",image);$(pid).find(\".alert-moment\").data(\"create\",moment().format());$(pid).find(\".alert-title\").text(title);$(pid).find(\".alert-text\").html(p.text);$(\"#message-count\").text($(\"#message-box li\").length-1);var mini=false;if(p.mini!=undefined&&p.mini==true){mini=p.mini;}if(mini==false){message.ui.show(true);}}}}};Object.defineProperty(message.list,\"push\",{configurable:false,enumerable:false,writable:false,value:function(){for(var i=0,n=this.length,l=arguments.length;i<l;i++,n++){this[n]=arguments[i];message.afterInsert();}return n;}});var uploader={\"init\":function(){$(document).on(\"change\",\"#image-file-picker\",function(){uploader.startUpload();});},\"pickup_target\":null,\"pickup_target_is_editor\":false,\"pickup\":function($target,ed){uploader.pickup_target=$target;uploader.pickup_target_is_editor=ed;$(\"#image-file-picker\").click();},\"startUpload\":function(){var fileInput=document.getElementById(\"image-file-picker\");var file=fileInput.files[0];uploader.addFile(file,uploader.pickup_target,function(data){var url=data.response.url;if(uploader.pickup_target_is_editor){uploader.pickup_target.selection.setContent('<img src=\"'+url+'\" />');}else{uploader.pickup_target.val(url).change();}});},\"addFile\":function(file,target_id,callback){progress_bar.set(10);var message_id=message.insert(\"info\",\"準備上傳\",\"等待中....\",undefined,true);json_async(\"/admin/user_file/get.json\",null,function(data){progress_bar.set(20);uploader.upload({\"message_id\":message_id,\"upload_url\":data[\"url\"],\"file\":file,\"target_id\":target_id,\"callback\":callback});},function(data){progress_bar.set(0);message.change(message_id,\"danger\",\"發生錯誤\",\"無法取得上傳的路徑，請稍候再試一次\");});},\"upload\":function(upload_target){var reader=new FileReader();reader.reader_info=upload_target;reader.readAsDataURL(upload_target.file);reader.onload=function(e){this.reader_info.image=this.result;progress_bar.set(30);message.change(this.reader_info.message_id,\"info\",\"正在上傳\",\"等待中....\",this.reader_info.image,true);var fd=new FormData();var xhr=new XMLHttpRequest();xhr.xhr_info=this.reader_info;xhr.upload.upload_info=this.reader_info;xhr.open(\"POST\",this.reader_info.upload_url);xhr.onload=function(data){progress_bar.set(100);message.quick_info(\"上傳完成\");message.change(this.xhr_info.message_id,\"success\",\"上傳完成\",\"100 %, 上傳完成\",this.xhr_info.image,true);if(typeof this.xhr_info.callback===\"function\"){eval(\"var a = \"+data.currentTarget.response);this.xhr_info.callback({\"response\":a,\"target_id\":this.xhr_info.target_id});}};xhr.onerror=function(e){message.change(this.xhr_info.message_id,\"danger\",\"上傳失敗\",\"請重整頁面後再試一次\",this.xhr_info.image,true);progress_bar.set(0);};xhr.upload.onprogress=function(evt){if(evt.lengthComputable){var complete=(evt.loaded/evt.total*100|0);if(100==complete){complete=99.9;}var the_xhr=this;setTimeout(function(){message.change(the_xhr.upload_info.message_id,\"info\",\"正在上傳\",complete+\" %\",the_xhr.upload_info.image,true);},0);progress_bar.set(complete);}};fd.append(\"file_name\",this.reader_info.file.name);fd.append(\"file_type\",this.reader_info.file.type);fd.append(\"file\",this.reader_info.file);xhr.send(fd);};if(/image\\/\\w+/.test(upload_target.file.type)){}}};var iframe={\"instance\":null,\"history\":{},\"last_url\":null,\"need_focus\":false,\"is_init\":false,\"loading_timer\":null,\"loading_lock\":false,\"init\":function(selector){if(this.is_init){return;}this.is_init=true;this.instance=$(selector).get(0);window.onpopstate=this.popState;this.history=JSON.parse(localStorage.getItem(\"iframe.history\"));if(this.history==null||this.history==\"null\"){this.history=[];}var $linkList=$(\"a[target=content_iframe]\");$linkList.click(function(event){var i_text=$(this).find(\".icon\").text()?($(this).find(\".icon\").length>0):\"\";var t=$(this).text().replace(i_text,\"\").trim();if($(this).hasClass(\"main-link\")){aside.closeUi();}iframe.load($(this).attr(\"href\"),t);event.preventDefault();});var b=$(\"body\").data(\"dashboard-name\");if(window.location.hash){var find_page=false;var hash=window.location.hash.replace(\"#\",\"\");$linkList.each(function(){if($(this).attr(\"href\")==hash){find_page=true;$(this).click();}});if(find_page==false){var last_page=this.getState(hash);if(last_page!=null){iframe.load(hash,last_page.text,last_page.referer_page);}else{var h=hash.split(\"/\").slice(0,3).join(\"/\");$linkList.each(function(){if($(this).attr(\"href\")==h){find_page=true;$(this).click();}});}}if(find_page==false){iframe.load(\"/\"+b+\"/welcome\",\"Welcome\");}}else{iframe.load(\"/\"+b+\"/welcome\",\"Welcome\");}$(\".content\").hover(function(){},function(){setTimeout(function(){if(iframe.need_focus==false){$(\".iframe_mask\").show();}},800);});$(\".iframe_mask\").hover(iframe.focus,function(){iframe.need_focus=false;}).mouseover(iframe.focus).mouseenter(iframe.focus).click(iframe.focus);},\"focus\":function(){$(\".iframe_mask\").hide();iframe.need_focus=true;iframe.instance.contentWindow.focus();var contents=null;try{contents=$(this.instance).contents();}catch(e){contents=this.instance.contents();}contents.find(\"body\").click();},\"removeMask\":function(){iframe.need_focus=true;$(\".iframe_mask\").hide();},\"reload\":function(keep_aside){if(!(keep_aside&&keep_aside==true)){aside.closeUi();}var last_page=this.getState();if(last_page!=null){iframe.load(last_page.href,last_page.text,last_page.referer_page);}},\"getUrl\":function(){return this.last_url;},\"load\":function(url,text,referer_page){if(this.loading_lock==true){return false;}this.loading_lock=true;clearTimeout(this.loading_timer);this.loading_timer=setTimeout(function(){iframe.instance.contentWindow.showTimeout();},25000);this.last_url=url;this.pushState(url,text,referer_page);iframe.instance.contentWindow.showLoading(function(){ajax(url,null,function(page){var data=iframe.getState();if(data){history.pushState(data,data.text,\"#\"+data.href);}clearTimeout(iframe.loading_timer);iframe.loading_lock=false;iframe.instance.contentWindow.pageInit(page);},function(page){clearTimeout(iframe.loading_timer);iframe.loading_lock=false;iframe.instance.contentWindow.pageInit(page);return false;},{\"is_ajax\":\"true\"});});},\"addClass\":function(class_name){var contents=null;try{contents=$(this.instance).contents();}catch(e){contents=this.instance.contents();}contents.find(\"body\").addClass(class_name);},\"removeClass\":function(class_name){var contents=null;try{contents=$(this.instance).contents();}catch(e){contents=this.instance.contents();}contents.find(\"body\").removeClass(class_name);},\"getState\":function(url){if(typeof url===\"undefined\"){url=iframe.getUrl();}if(url in this.history){return iframe.history[url];}return null;},\"pushState\":function(url,text,referer_page){var referer_page_data=this.getState(referer_page);if(referer_page_data&&referer_page_data.referer_page){referer_page=referer_page_data.referer_page;}var history_item=null;if(url in this.history){history_item=iframe.history[url];history_item.last_date=Date.now();if(history_item.visit){history_item.visit++;}else{history_item.visit=1;}localStorage.setItem(\"iframe.history\",JSON.stringify(this.history));return false;}this.history[url]={\"href\":url,\"text\":text,\"visit\":1,\"last_date\":Date.now(),\"referer_page\":referer_page};localStorage.setItem(\"iframe.history\",JSON.stringify(this.history));},\"popState\":function(event){var s=event.state;if(s){iframe.load(s.href,s.text,s.is_list);window.history.replaceState(s,s.text,\"#\"+s.href);}},\"setPageTitle\":function(title){$(\".header-page-name\").text(title);},\"search\":function(keyword){var url=\"\";var current=this.last_url;if(keyword!=undefined&&keyword!=\"\"){url=replaceParam(current,\"query\",keyword);url=replaceParam(url,\"cursor\",\"\");url=url.replace(\"?cursor=none\",\"?\");url=url.replace(\"&cursor=none\",\"\");this.load(url);}if(keyword==\"\"){url=replaceParam(current,\"query\",\"\");url=url.replace(\"query=\",\"\");this.load(url);}}};var aside={\"instance\":null,\"is_open\":false,\"last_url\":null,\"is_init\":false,\"loading_timer\":null,\"loading_lock\":false,\"init\":function(selector){if(this.is_init){return;}this.is_init=true;this.instance=$(selector).get(0);$(window).resize(function(){$(\"#aside_iframe.open\").stop().animate({\"width\":($(window).width()<992)?\"100%\":\"52%\"},200);});},\"load\":function(url){if(this.loading_lock==true){return false;}this.loading_lock=true;clearTimeout(this.loading_timer);this.loading_timer=setTimeout(function(){aside.loading_lock=false;aside.instance.contentWindow.showTimeout();},250000);this.last_url=url;if(this.is_open){aside.instance.contentWindow.showLoading(function(){aside.runAjax(url);});}else{aside.showUi();aside.instance.contentWindow.showLoading(function(){aside.runAjax(url);});}},\"reload\":function(){this.load(this.last_url);},\"runAjax\":function(url){var headers={\"is_ajax\":\"true\",\"aside\":\"aside\"};ajax(url,null,function(page){clearTimeout(aside.loading_timer);aside.loading_lock=false;aside.instance.contentWindow.pageInit(page);},function(page){clearTimeout(aside.loading_timer);aside.loading_lock=false;aside.instance.contentWindow.pageInit(page);},headers);},\"showUi\":function(callback){$(\"#aside_iframe\").stop().animate({\"width\":($(window).width()<992)?\"100%\":\"52%\"},500,function(){aside.is_open=true;if(typeof callback===\"function\"){callback();}$(this).addClass(\"open\");});},\"closeUi\":function(callback){$(\"#aside_iframe\").stop().animate({\"width\":\"0\"},500,function(){aside.is_open=false;if(typeof callback===\"function\"){callback();}$(this).removeClass(\"open\");});}};function print(){var target=aside.is_open?aside:iframe;var target_window=target.instance.contentWindow;target_window.print();}var shortcut={keys:\"ctrl+r, `, ctrl+s, ctrl+shift+s, ctrl+p, esc, f5, ctrl+f5, \"+\"alt+1, alt+2, alt+3, alt+4, alt+5, alt+6, alt+7, alt+8, alt+9, /, shift+/\",timer:null,lock:false,\"init\":function(){var s=[];var n=1;$(\".op-mode a\").each(function(){s.push($(this).data(\"view-key\"));s.push(n.toString());n++;});shortcut.keys+=\", \"+s.join(\", \");console.log(shortcut.keys);key.filter=function(event){var tagName=(event.target||event.srcElement).tagName;key.setScope(/^(INPUT|TEXTAREA|SELECT)$/.test(tagName)?\"input\":\"doc\");return true;};key(shortcut.keys,\"doc\",function(event,handler){return shortcut.catchEvent(window.name,handler.shortcut,handler.scope);});key(shortcut.keys,\"input\",function(event,handler){return shortcut.catchEvent(window.name,handler.shortcut,handler.scope);});},\"catchEvent\":function(window_name,shortcut_key,scope){var target=aside.is_open?aside:iframe;var target_window=target.instance.contentWindow;console.log(window_name,shortcut_key,scope);switch(shortcut_key){case\"ctrl+p\":target_window.print();break;case\"f5\":case\"ctrl+r\":case\"ctrl+f5\":target.reload();break;}if(aside.is_open){switch(shortcut_key){case\"ctrl+shift+s\":target_window.save_and_exit();break;case\"ctrl+s\":target_window.save_form();break;case\"alt+1\":case\"alt+2\":case\"alt+3\":case\"alt+4\":case\"alt+5\":case\"alt+6\":case\"alt+7\":case\"alt+8\":case\"alt+9\":target_window.change_lang(parseInt(shortcut_key.replace(\"alt+\",\"\"))-1);break;}}if(scope!=\"input\"){var s=[];var n=1;$(\".op-mode a\").each(function(){if(shortcut_key==$(this).data(\"view-key\")||shortcut_key==n.toString()){view.change($(this).data(\"view\"));}n++;});switch(shortcut_key){case\"/\":ui.showSearchBox();return false;case\"shift+/\":console.log(\"help\");break;case\"`\":if(aside.is_open){aside.closeUi();}else{aside.showUi();}break;case\"esc\":if(shortcut.lock==true){shortcut.lock=false;aside.closeUi();return false;}shortcut.lock=true;clearTimeout(shortcut.timer);shortcut.timer=setTimeout(function(){shortcut.lock=false;},400);break;}}if(scope==\"input\"){switch(shortcut_key){case\"esc\":ui.closeSearchBox();return false;}}if(jQuery.inArray(shortcut_key,[\"ctrl+shift+s\",\"ctrl+s\",\"ctrl+r\",\"ctrl+f5\",\"f5\",\"ctrl+p\"])>-1){return false;}}};var view={\"current\":\"edit\",\"change\":function(view_name){if(window.name==\"\"){this.current=view_name;$(\"body\").removeClass(\"in-view-mode\").removeClass(\"in-edit-mode\").removeClass(\"in-delete-mode\").removeClass(\"in-sort-mode\").addClass(\"in-\"+view_name+\"-mode\");if(view_name==\"sort\"){iframe.addClass(\"in-sort-mode\");}else{iframe.removeClass(\"in-sort-mode\");}if(aside.is_open){aside.instance.contentWindow.changeView();}}}};var ui={\"closeMessageBox\":function(){$(\"header\").click();},\"showSearchBox\":function(){$(\"#keyword\").click().focus();},\"closeSearchBox\":function(){$(\".page-overlay a\").focus();$(\".page-overlay\").click();},\"setUserInformation\":function(name,blob_url){var href=iframe.last_url;if(href.indexOf(\"/admin/application_user/%3A\")>=0){if(href.indexOf($(\"body\").data(\"user\"))>0){$(\".user-box .avatar\").css({\"background-image\":\"url(\"+blob_url+\")\"});$(\".user-name a\").text(name);}}if(href.indexOf(\"/admin/application_user/profile\")>=0){$(\".user-box .avatar\").css({\"background-image\":\"url(\"+blob_url+\")\"});$(\".user-name a\").text(name);}},};$(function(){uploader.init();shortcut.init();$(\".scrollDiv\").hover(function(){$(this).addClass(\"on\");iframe.need_focus=false;},function(){$(this).removeClass(\"on\");}).mouseover(function(){$(this).addClass(\"on\");}).mouseover(function(){$(this).addClass(\"on\");}).mouseleave(function(){$(this).removeClass(\"on\");});$(\".enter-sorting-mode\").click(function(){view.change(\"sort\");});$(\".enter-view-mode\").click(function(){view.change(\"view\");});$(\".enter-edit-mode\").click(function(){view.change(\"edit\");});$(\".enter-delete-mode\").click(function(){view.change(\"delete\");});$(\".page-overlay\").click(function(){$(\"div.search-bar, .page-overlay\").removeClass(\"on\");});$(\"#keyword\").focus(function(){ui.closeMessageBox();$(\"div.search-bar, .page-overlay\").addClass(\"on\");}).keyup(function(event){if(event.which==13){event.preventDefault();iframe.search($(this).val());}});$(\".menu-link\").click(function(event){var target_id=$(this).attr(\"href\");if($(target_id).hasClass(\"in\")){event.stopPropagation();event.preventDefault();$(target_id).removeClass(\"in\").animate({\"left\":-300},function(){});$(\"#main-nav\").show().animate({\"left\":0});}else{event.stopPropagation();event.preventDefault();$(\"#main-nav\").animate({\"left\":-300},function(){$(this).hide();});$(target_id).animate({\"left\":0},function(){$(target_id).addClass(\"in\");});}});});"]}