{"version":3,"sources":["plugin.min.js"],"names":["tinymce","PluginManager","add","a","b","j","i","sort","start","length","c","d","indexOf","end","lastIndexOf","e","f","g","substr","splitText","k","o","deleteData","n","data","h","l","m","p","selection","dom","isCollapsed","getRng","startContainer","startOffset","nodeType","Math","max","createRng","setStart","setEnd","toString","formatter","get","format","inline","apply","getParent","getStart","TreeWalker","next","trim","block","collapse","setRng","cmd","undoManager","transact","execCommand","slice","test","doc","createTextNode","nextSibling","insertAfter","parentNode","appendChild","settings","textpattern_patterns","on","keyCode","util","VK","modifierPressed","this","getPatterns","setPatterns"],"mappings":"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","file":"plugin.min.js","sourcesContent":["tinymce.PluginManager.add(\"textpattern\",function(a){function b(){return j&&(i.sort(function(a,b){return a.start.length>b.start.length?-1:a.start.length<b.start.length?1:0}),j=!1),i}function c(a){for(var c=b(),d=0;d<c.length;d++)if(0===a.indexOf(c[d].start)&&(!c[d].end||a.lastIndexOf(c[d].end)==a.length-c[d].end.length))return c[d]}function d(a,c,d){var e,f,g;for(e=b(),g=0;g<e.length;g++)if(f=e[g],f.end&&a.substr(c-f.end.length-d,f.end.length)==f.end)return f}function e(b){function e(){i=i.splitText(k),i.splitText(j-k-o),i.deleteData(0,n.start.length),i.deleteData(i.data.length-n.end.length,n.end.length)}var f,g,h,i,j,k,l,m,n,o,p;return f=a.selection,g=a.dom,f.isCollapsed()&&(h=f.getRng(!0),i=h.startContainer,j=h.startOffset,l=i.data,o=b?1:0,3==i.nodeType&&(n=d(l,j,o),n&&(k=Math.max(0,j-o),k=l.lastIndexOf(n.start,k-n.end.length-1),-1!==k&&(m=g.createRng(),m.setStart(i,k),m.setEnd(i,j-o),n=c(m.toString()),n&&n.end&&!(i.data.length<=n.start.length+n.end.length)))))?(p=a.formatter.get(n.format),p&&p[0].inline?(e(),a.formatter.apply(n.format,{},i),i):void 0):void 0}function f(){var b,d,e,f,g,h,i,j,k,l,m;if(b=a.selection,d=a.dom,b.isCollapsed()&&(i=d.getParent(b.getStart(),\"p\"))){for(k=new tinymce.dom.TreeWalker(i,i);g=k.next();)if(3==g.nodeType){f=g;break}if(f){if(j=c(f.data),!j)return;if(l=b.getRng(!0),e=l.startContainer,m=l.startOffset,f==e&&(m=Math.max(0,m-j.start.length)),tinymce.trim(f.data).length==j.start.length)return;j.format&&(h=a.formatter.get(j.format),h&&h[0].block&&(f.deleteData(0,j.start.length),a.formatter.apply(j.format,{},f),l.setStart(e,m),l.collapse(!0),b.setRng(l))),j.cmd&&a.undoManager.transact(function(){f.deleteData(0,j.start.length),a.execCommand(j.cmd)})}}}function g(){var b,c;c=e(),c&&(b=a.dom.createRng(),b.setStart(c,c.data.length),b.setEnd(c,c.data.length),a.selection.setRng(b)),f()}function h(){var b,c,d,f,g;b=e(!0),b&&(g=a.dom,c=b.data.slice(-1),/[\\u00a0 ]/.test(c)&&(b.deleteData(b.data.length-1,1),d=g.doc.createTextNode(c),b.nextSibling?g.insertAfter(d,b.nextSibling):b.parentNode.appendChild(d),f=g.createRng(),f.setStart(d,1),f.setEnd(d,1),a.selection.setRng(f)))}var i,j=!0;i=a.settings.textpattern_patterns||[{start:\"*\",end:\"*\",format:\"italic\"},{start:\"**\",end:\"**\",format:\"bold\"},{start:\"#\",format:\"h1\"},{start:\"##\",format:\"h2\"},{start:\"###\",format:\"h3\"},{start:\"####\",format:\"h4\"},{start:\"#####\",format:\"h5\"},{start:\"######\",format:\"h6\"},{start:\"1. \",cmd:\"InsertOrderedList\"},{start:\"* \",cmd:\"InsertUnorderedList\"},{start:\"- \",cmd:\"InsertUnorderedList\"}],a.on(\"keydown\",function(a){13!=a.keyCode||tinymce.util.VK.modifierPressed(a)||g()},!0),a.on(\"keyup\",function(a){32!=a.keyCode||tinymce.util.VK.modifierPressed(a)||h()}),this.getPatterns=b,this.setPatterns=function(a){i=a,j=!0}});\n//# sourceMappingURL=plugin.min.js.map"]}