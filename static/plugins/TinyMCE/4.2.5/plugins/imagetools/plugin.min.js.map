{"version":3,"sources":["plugin.min.js"],"names":["a","b","c","d","f","length","g","e","push","apply","arguments","split","h","i","j","AMDLC_TESTS","privateModules","document","createElement","getContext","width","height","create","resize","get2dContext","href","pathname","jpg","jpeg","png","toLowerCase","guessMimeType","naturalWidth","naturalHeight","getWidth","getHeight","removeEventListener","complete","addEventListener","then","drawImage","src","indexOf","toDataURL","Image","URL","createObjectURL","XMLHttpRequest","open","responseType","onload","this","status","response","send","exec","atob","window","WebKitBlobBuilder","ArrayBuffer","charCodeAt","append","getBlob","Uint8Array","Blob","type","k","l","m","FileReader","onloadend","result","readAsDataURL","n","o","revokeObjectURL","blobToImage","imageToBlob","uriToBlob","blobToDataUri","blobToBase64","imageToCanvas","canvasToBlob","revokeImageUrl","translate","rotate","Math","PI","scale","flip","crop","x","y","w","A","ownerDocument","handle","name","start","drag","deltaX","deltaY","deltaW","deltaH","clamp","v","fire","rect","s","z","appendTo","each","map","p","concat","join","show","hide","css","left","top","xMul","yMul","q","r","t","u","destroy","extend","toggleVisibility","setClampRect","setRect","getInnerRect","setInnerRect","setViewPortRect","Defaults","classes","selection","state","set","get","imageSize","toggleCropRect","imageSrc","$el","find","replaceWith","getEl","appendChild","inflate","zoomFit","repaintImage","zoom","postRender","settings","_super","clientWidth","clientHeight","min","offsetWidth","offsetHeight","max","cropRect","bindStates","on","round","value","parseFloat","Array","floor","cos","sin","identity","adjust","multiply","adjustContrast","adjustBrightness","adjustSaturation","adjustHue","adjustColors","adjustSepia","adjustGrayscale","data","B","getImageData","putImageData","sqrt","invert","brightness","hue","saturate","contrast","grayscale","sepia","colorize","sharpen","emboss","gamma","pow","exposure","exp","colorFilter","convoluteFilter","splice","removed","add","undo","redo","canUndo","canRedo","blob","url","M","parseInt","checked","ha","ia","control","ja","ka","disabled","la","statusbar","T","grep","ga","P","slice","call","N","C","D","E","F","G","close","H","layout","direction","labelGap","border","align","pack","padding","spacing","flex","minHeight","defaults","items","I","text","onclick","subtype","J","ondragend","minValue","maxValue","previewFilter","K","label","L","O","Q","R","S","U","V","W","X","Y","Z","$","_","aa","ba","ca","da","ea","fa","size","onkeyup","onchange","preventDefault","icon","tooltip","minWidth","DOM","getViewPort","title","buttons","renderTo","body","reflow","edit","style","attr","removeAttr","getNode","host","documentBaseURI","inArray","imagetools_cors_hosts","imagetools_proxy","encodeURIComponent","editorUpload","blobCache","getByUri","parseDataUri","undoManager","transact","off","nodeChanged","blobUri","_scanForImages","addButton","cmd","dom","is","imagetools_toolbar","addContextToolbar","fileApi"],"mappings":"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","file":"plugin.min.js","sourcesContent":["!function(a,b){\"use strict\";function c(a,b){for(var c,d=[],f=0;f<a.length;++f){if(c=g[a[f]]||e(a[f]),!c)throw\"module definition dependecy not found: \"+a[f];d.push(c)}b.apply(null,d)}function d(a,d,e){if(\"string\"!=typeof a)throw\"invalid module definition, module id must be defined and be a string\";if(d===b)throw\"invalid module definition, dependencies must be specified\";if(e===b)throw\"invalid module definition, definition function must be specified\";c(d,function(){g[a]=e.apply(null,arguments)})}function e(b){for(var c=a,d=b.split(/[.\\/]/),e=0;e<d.length;++e){if(!c[d[e]])return;c=c[d[e]]}return c}function f(c){var d,e,f,h,i;for(d=0;d<c.length;d++){e=a,f=c[d],h=f.split(/[.\\/]/);for(var j=0;j<h.length-1;++j)e[h[j]]===b&&(e[h[j]]={}),e=e[h[j]];e[h[h.length-1]]=g[f]}if(a.AMDLC_TESTS){i=a.privateModules||{};for(f in g)i[f]=g[f];for(d=0;d<c.length;d++)delete i[c[d]];a.privateModules=i}}var g={};d(\"tinymce/imagetoolsplugin/Canvas\",[],function(){function a(a,b){return c(document.createElement(\"canvas\"),a,b)}function b(a){return a.getContext(\"2d\")}function c(a,b,c){return a.width=b,a.height=c,a}return{create:a,resize:c,get2dContext:b}}),d(\"tinymce/imagetoolsplugin/Mime\",[],function(){function a(a){var b=document.createElement(\"a\");return b.href=a,b.pathname}function b(b){var c=a(b).split(\".\"),d=c[c.length-1],e={jpg:\"image/jpeg\",jpeg:\"image/jpeg\",png:\"image/png\"};return d&&(d=d.toLowerCase()),e[d]}return{guessMimeType:b}}),d(\"tinymce/imagetoolsplugin/ImageSize\",[],function(){function a(a){return a.naturalWidth||a.width}function b(a){return a.naturalHeight||a.height}return{getWidth:a,getHeight:b}}),d(\"tinymce/imagetoolsplugin/Conversions\",[\"tinymce/util/Promise\",\"tinymce/imagetoolsplugin/Canvas\",\"tinymce/imagetoolsplugin/Mime\",\"tinymce/imagetoolsplugin/ImageSize\"],function(a,b,c,d){function e(b){return new a(function(a){function c(){b.removeEventListener(\"load\",c),a(b)}b.complete?a(b):b.addEventListener(\"load\",c)})}function f(a){return e(a).then(function(a){var c,e;return e=b.create(d.getWidth(a),d.getHeight(a)),c=b.get2dContext(e),c.drawImage(a,0,0),e})}function g(a){return e(a).then(function(a){var b=a.src;return 0===b.indexOf(\"blob:\")?i(b):0===b.indexOf(\"data:\")?j(b):f(a).then(function(a){return j(a.toDataURL(c.guessMimeType(b)))})})}function h(b){return new a(function(a){function c(){d.removeEventListener(\"load\",c),a(d)}var d=new Image;d.addEventListener(\"load\",c),d.src=URL.createObjectURL(b),d.complete&&c()})}function i(b){return new a(function(a){var c=new XMLHttpRequest;c.open(\"GET\",b,!0),c.responseType=\"blob\",c.onload=function(){200==this.status&&a(this.response)},c.send()})}function j(b){return new a(function(a){var c,d,e,f,g,h;if(b=b.split(\",\"),f=/data:([^;]+)/.exec(b[0]),f&&(g=f[1]),c=atob(b[1]),window.WebKitBlobBuilder){for(h=new WebKitBlobBuilder,d=new ArrayBuffer(c.length),e=0;e<d.length;e++)d[e]=c.charCodeAt(e);return h.append(d),void a(h.getBlob(g))}for(d=new Uint8Array(c.length),e=0;e<d.length;e++)d[e]=c.charCodeAt(e);a(new Blob([d],{type:g}))})}function k(a){return 0===a.indexOf(\"blob:\")?i(a):0===a.indexOf(\"data:\")?j(a):null}function l(a,b){return j(a.toDataURL(b))}function m(b){return new a(function(a){var c=new FileReader;c.onloadend=function(){a(c.result)},c.readAsDataURL(b)})}function n(a){return m(a).then(function(a){return a.split(\",\")[1]})}function o(a){URL.revokeObjectURL(a.src)}return{blobToImage:h,imageToBlob:g,uriToBlob:k,blobToDataUri:m,blobToBase64:n,imageToCanvas:f,canvasToBlob:l,revokeImageUrl:o}}),d(\"tinymce/imagetoolsplugin/ImageTools\",[\"tinymce/imagetoolsplugin/Conversions\",\"tinymce/imagetoolsplugin/Canvas\",\"tinymce/imagetoolsplugin/ImageSize\"],function(a,b,c){function d(d,e){return a.blobToImage(d).then(function(f){var g=b.create(c.getWidth(f),c.getHeight(f)),i=b.get2dContext(g),j=0,k=0;return e=0>e?360+e:e,(90==e||270==e)&&b.resize(g,g.height,g.width),(90==e||180==e)&&(j=g.width),(270==e||180==e)&&(k=g.height),i.translate(j,k),i.rotate(e*Math.PI/180),i.drawImage(f,0,0),h(f),a.canvasToBlob(g,d.type)})}function e(d,e){return a.blobToImage(d).then(function(d){var f=b.create(c.getWidth(d),c.getHeight(d)),g=b.get2dContext(f);return\"v\"==e?(g.scale(1,-1),g.drawImage(d,0,-f.height)):(g.scale(-1,1),g.drawImage(d,-f.width,0)),h(d),a.canvasToBlob(f)})}function f(c,d,e,f,g){return a.blobToImage(c).then(function(c){var i=b.create(f,g),j=b.get2dContext(i);return j.drawImage(c,-d,-e),h(c),a.canvasToBlob(i)})}function g(c,d,e){return a.blobToImage(c).then(function(f){var g=b.create(d,e),i=b.get2dContext(g);return i.drawImage(f,0,0,d,e),h(f),a.canvasToBlob(g,c.type)})}var h=a.revokeImageUrl;return{rotate:d,flip:e,crop:f,resize:g}}),d(\"tinymce/imagetoolsplugin/CropRect\",[\"tinymce/dom/DomQuery\",\"tinymce/ui/DragHelper\",\"tinymce/ui/Rect\",\"tinymce/util/Tools\",\"tinymce/util/Observable\"],function(a,b,c,d,e){var f=0;return function(g,h,i,j){function k(a,b){return{x:b.x+a.x,y:b.y+a.y,w:b.w,h:b.h}}function l(a,b){return{x:b.x-a.x,y:b.y-a.y,w:b.w,h:b.h}}function m(){return l(i,g)}function n(){function e(a){var d;return new b(A,{document:j.ownerDocument,handle:A+\"-\"+a.name,start:function(){d=g},drag:function(b){var e,f,h,j,k;e=d.x,f=d.y,h=d.w,j=d.h,e+=b.deltaX*a.deltaX,f+=b.deltaY*a.deltaY,h+=b.deltaX*a.deltaW,j+=b.deltaY*a.deltaH,20>h&&(h=20),20>j&&(j=20),k=g=c.clamp({x:e,y:f,w:h,h:j},i,\"move\"==a.name),k=l(i,k),v.fire(\"updateRect\",{rect:k}),s(k)}})}a('<div id=\"'+A+'\" class=\"'+z+'croprect-container\" data-mce-bogus=\"all\">').appendTo(j),d.each(y,function(b){a(\"#\"+A,j).append('<div id=\"'+A+\"-\"+b+'\"class=\"'+z+'croprect-block\" style=\"display: none\" data-mce-bogus=\"all\">')}),d.each(w,function(b){a(\"#\"+A,j).append('<div id=\"'+A+\"-\"+b.name+'\" class=\"'+z+\"croprect-handle \"+z+\"croprect-handle-\"+b.name+'\" style=\"display: none\" data-mce-bogus=\"all\">')}),x=d.map(w,e),p(g)}function o(b){var c;c=d.map(w,function(a){return\"#\"+A+\"-\"+a.name}).concat(d.map(y,function(a){return\"#\"+A+\"-\"+a})).join(\",\"),b?a(c,j).show():a(c,j).hide()}function p(b){function c(b,c){c.h<0&&(c.h=0),c.w<0&&(c.w=0),a(\"#\"+A+\"-\"+b,j).css({left:c.x,top:c.y,width:c.w,height:c.h})}d.each(w,function(c){a(\"#\"+A+\"-\"+c.name,j).css({left:b.w*c.xMul+b.x,top:b.h*c.yMul+b.y})}),c(\"top\",{x:h.x,y:h.y,w:h.w,h:b.y-h.y}),c(\"right\",{x:b.x+b.w,y:b.y,w:h.w-b.x-b.w+h.x,h:b.h}),c(\"bottom\",{x:h.x,y:b.y+b.h,w:h.w,h:h.h-b.y-b.h+h.y}),c(\"left\",{x:h.x,y:b.y,w:b.x-h.x,h:b.h}),c(\"move\",b)}function q(a){g=a,p(g)}function r(a){h=a,p(g)}function s(a){q(k(i,a))}function t(a){i=a,p(g)}function u(){d.each(x,function(a){a.destroy()}),x=[]}var v,w,x,y,z=\"mce-\",A=z+\"crid-\"+f++;return w=[{name:\"move\",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0},{name:\"nw\",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1},{name:\"ne\",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1},{name:\"sw\",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1},{name:\"se\",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1}],y=[\"top\",\"right\",\"bottom\",\"left\"],n(j),v=d.extend({toggleVisibility:o,setClampRect:t,setRect:q,getInnerRect:m,setInnerRect:s,setViewPortRect:r,destroy:u},e)}}),d(\"tinymce/imagetoolsplugin/ImagePanel\",[\"tinymce/ui/Control\",\"tinymce/ui/DragHelper\",\"tinymce/ui/Rect\",\"tinymce/util/Tools\",\"tinymce/util/Promise\",\"tinymce/imagetoolsplugin/CropRect\"],function(a,b,c,d,e,f){function g(a){return new e(function(b){function c(){a.removeEventListener(\"load\",c),b(a)}a.complete?b(a):a.addEventListener(\"load\",c)})}return a.extend({Defaults:{classes:\"imagepanel\"},selection:function(a){return arguments.length?(this.state.set(\"rect\",a),this):this.state.get(\"rect\")},imageSize:function(){var a=this.state.get(\"viewRect\");return{w:a.w,h:a.h}},toggleCropRect:function(a){this.state.set(\"cropEnabled\",a)},imageSrc:function(a){var b=this,d=new Image;d.src=a,g(d).then(function(){var a,e,f=b.state.get(\"viewRect\");e=b.$el.find(\"img\"),e[0]?e.replaceWith(d):b.getEl().appendChild(d),a={x:0,y:0,w:d.naturalWidth,h:d.naturalHeight},b.state.set(\"viewRect\",a),b.state.set(\"rect\",c.inflate(a,-20,-20)),f&&f.w==a.w&&f.h==a.h||b.zoomFit(),b.repaintImage(),b.fire(\"load\")})},zoom:function(a){return arguments.length?(this.state.set(\"zoom\",a),this):this.state.get(\"zoom\")},postRender:function(){return this.imageSrc(this.settings.imageSrc),this._super()},zoomFit:function(){var a,b,c,d,e,f,g,h=this;g=10,a=h.$el.find(\"img\"),b=h.getEl().clientWidth,c=h.getEl().clientHeight,d=a[0].naturalWidth,e=a[0].naturalHeight,f=Math.min((b-g)/d,(c-g)/e),f>=1&&(f=1),h.zoom(f)},repaintImage:function(){var a,b,c,d,e,f,g,h,i,j;j=this.getEl(),h=this.zoom(),i=this.state.get(\"rect\"),g=this.$el.find(\"img\"),e=j.offsetWidth,f=j.offsetHeight,c=g[0].naturalWidth*h,d=g[0].naturalHeight*h,a=Math.max(0,e/2-c/2),b=Math.max(0,f/2-d/2),g.css({left:a,top:b,width:c,height:d}),this.cropRect&&(this.cropRect.setRect({x:i.x*h+a,y:i.y*h+b,w:i.w*h,h:i.h*h}),this.cropRect.setClampRect({x:a,y:b,w:c,h:d}),this.cropRect.setViewPortRect({x:0,y:0,w:e,h:f}))},bindStates:function(){function a(a){b.cropRect=new f(a,b.state.get(\"viewRect\"),b.state.get(\"viewRect\"),b.getEl()),b.cropRect.on(\"updateRect\",function(a){var c=a.rect,d=b.zoom();c={x:Math.round(c.x/d),y:Math.round(c.y/d),w:Math.round(c.w/d),h:Math.round(c.h/d)},b.state.set(\"rect\",c)}),b.on(\"remove\",b.cropRect.destroy)}var b=this;b.state.on(\"change:cropEnabled\",function(a){b.cropRect.toggleVisibility(a.value),b.repaintImage()}),b.state.on(\"change:zoom\",function(){b.repaintImage()}),b.state.on(\"change:rect\",function(c){var d=c.value;b.cropRect||a(d),b.cropRect.setRect(d)})}})}),d(\"tinymce/imagetoolsplugin/ColorMatrix\",[],function(){function a(a,b,c){return a=parseFloat(a),a>c?a=c:b>a&&(a=b),a}function b(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]}function c(a,b){var c,d,e,f,g=[],h=new Array(10);for(c=0;5>c;c++){for(d=0;5>d;d++)g[d]=b[d+5*c];for(d=0;5>d;d++){for(f=0,e=0;5>e;e++)f+=a[d+5*e]*g[e];h[d+5*c]=f}}return h}function d(b,c){return c=a(c,0,1),b.map(function(b,d){return d%6===0?b=1-(1-b)*c:b*=c,a(b,0,1)})}function e(b,d){var e;return d=a(d,-1,1),d*=100,0>d?e=127+d/100*127:(e=d%1,e=0===e?l[d]:l[Math.floor(d)]*(1-e)+l[Math.floor(d)+1]*e,e=127*e+127),c(b,[e/127,0,0,0,.5*(127-e),0,e/127,0,0,.5*(127-e),0,0,e/127,0,.5*(127-e),0,0,0,1,0,0,0,0,0,1])}function f(b,d){var e,f,g,h;return d=a(d,-1,1),e=1+(d>0?3*d:d),f=.3086,g=.6094,h=.082,c(b,[f*(1-e)+e,g*(1-e),h*(1-e),0,0,f*(1-e),g*(1-e)+e,h*(1-e),0,0,f*(1-e),g*(1-e),h*(1-e)+e,0,0,0,0,0,1,0,0,0,0,0,1])}function g(b,d){var e,f,g,h,i;return d=a(d,-180,180)/180*Math.PI,e=Math.cos(d),f=Math.sin(d),g=.213,h=.715,i=.072,c(b,[g+e*(1-g)+f*-g,h+e*-h+f*-h,i+e*-i+f*(1-i),0,0,g+e*-g+.143*f,h+e*(1-h)+.14*f,i+e*-i+f*-.283,0,0,g+e*-g+f*-(1-g),h+e*-h+f*h,i+e*(1-i)+f*i,0,0,0,0,0,1,0,0,0,0,0,1])}function h(b,d){return d=a(255*d,-255,255),c(b,[1,0,0,0,d,0,1,0,0,d,0,0,1,0,d,0,0,0,1,0,0,0,0,0,1])}function i(b,d,e,f){return d=a(d,0,2),e=a(e,0,2),f=a(f,0,2),c(b,[d,0,0,0,0,0,e,0,0,0,0,0,f,0,0,0,0,0,1,0,0,0,0,0,1])}function j(b,e){return e=a(e,0,1),c(b,d([.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0,0,0,0,0,1],e))}function k(b,e){return e=a(e,0,1),c(b,d([.33,.34,.33,0,0,.33,.34,.33,0,0,.33,.34,.33,0,0,0,0,0,1,0,0,0,0,0,1],e))}var l=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10];return{identity:b,adjust:d,multiply:c,adjustContrast:e,adjustBrightness:h,adjustSaturation:f,adjustHue:g,adjustColors:i,adjustSepia:j,adjustGrayscale:k}}),d(\"tinymce/imagetoolsplugin/Filters\",[\"tinymce/imagetoolsplugin/Canvas\",\"tinymce/imagetoolsplugin/ImageSize\",\"tinymce/imagetoolsplugin/Conversions\",\"tinymce/imagetoolsplugin/ColorMatrix\"],function(a,b,c,d){function e(d,e){return c.blobToImage(d).then(function(d){function f(a,b){var c,d,e,f,g,h=a.data,i=b[0],j=b[1],k=b[2],l=b[3],m=b[4],n=b[5],o=b[6],p=b[7],q=b[8],r=b[9],s=b[10],t=b[11],u=b[12],v=b[13],w=b[14],x=b[15],y=b[16],z=b[17],A=b[18],B=b[19];for(g=0;g<h.length;g+=4)c=h[g],d=h[g+1],e=h[g+2],f=h[g+3],h[g]=c*i+d*j+e*k+f*l+m,h[g+1]=c*n+d*o+e*p+f*q+r,h[g+2]=c*s+d*t+e*u+f*v+w,h[g+3]=c*x+d*y+e*z+f*A+B;return a}var g,h=a.create(b.getWidth(d),b.getHeight(d)),i=a.get2dContext(h);return i.drawImage(d,0,0),k(d),g=f(i.getImageData(0,0,h.width,h.height),e),i.putImageData(g,0,0),c.canvasToBlob(h)})}function f(d,e){return c.blobToImage(d).then(function(d){function f(a,b,c){function d(a,b,c){return a>c?a=c:b>a&&(a=b),a}var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;for(g=Math.round(Math.sqrt(c.length)),h=Math.floor(g/2),e=a.data,f=b.data,t=a.width,u=a.height,j=0;u>j;j++)for(i=0;t>i;i++){for(k=l=m=0,o=0;g>o;o++)for(n=0;g>n;n++)p=d(i+n-h,0,t-1),q=d(j+o-h,0,u-1),r=4*(q*t+p),s=c[o*g+n],k+=e[r]*s,l+=e[r+1]*s,m+=e[r+2]*s;r=4*(j*t+i),f[r]=d(k,0,255),f[r+1]=d(l,0,255),f[r+2]=d(m,0,255)}return b}var g,h,i=a.create(b.getWidth(d),b.getHeight(d)),j=a.get2dContext(i);return j.drawImage(d,0,0),k(d),g=j.getImageData(0,0,i.width,i.height),h=j.getImageData(0,0,i.width,i.height),h=f(g,h,e),j.putImageData(h,0,0),c.canvasToBlob(i)})}function g(d){return function(e,f){return c.blobToImage(e).then(function(e){function g(a,b){var c,d=a.data;for(c=0;c<d.length;c+=4)d[c]=b[d[c]],d[c+1]=b[d[c+1]],d[c+2]=b[d[c+2]];return a}var h,i,j=a.create(b.getWidth(e),b.getHeight(e)),l=a.get2dContext(j),m=new Array(256);for(i=0;i<m.length;i++)m[i]=d(i,f);return l.drawImage(e,0,0),k(e),h=g(l.getImageData(0,0,j.width,j.height),m),l.putImageData(h,0,0),c.canvasToBlob(j)})}}function h(a){return function(b,c){return e(b,a(d.identity(),c))}}function i(a){return function(b){return e(b,a)}}function j(a){return function(b){return f(b,a)}}var k=c.revokeImageUrl;return{invert:i([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0]),brightness:h(d.adjustBrightness),hue:h(d.adjustHue),saturate:h(d.adjustSaturation),contrast:h(d.adjustContrast),grayscale:h(d.adjustGrayscale),sepia:h(d.adjustSepia),colorize:function(a,b,c,f){return e(a,d.adjustColors(d.identity(),b,c,f))},sharpen:j([0,-1,0,-1,5,-1,0,-1,0]),emboss:j([-2,-1,0,-1,1,1,0,1,2]),gamma:g(function(a,b){return 255*Math.pow(a/255,1-b)}),exposure:g(function(a,b){return 255*(1-Math.exp(-(a/255)*b))}),colorFilter:e,convoluteFilter:f}}),d(\"tinymce/imagetoolsplugin/UndoStack\",[],function(){return function(){function a(a){var b;return b=f.splice(++g),f.push(a),{state:a,removed:b}}function b(){return d()?f[--g]:void 0}function c(){return e()?f[++g]:void 0}function d(){return g>0}function e(){return-1!=g&&g<f.length-1}var f=[],g=-1;return{data:f,add:a,undo:b,redo:c,canUndo:d,canRedo:e}}}),d(\"tinymce/imagetoolsplugin/Dialog\",[\"tinymce/dom/DOMUtils\",\"tinymce/util/Tools\",\"tinymce/util/Promise\",\"tinymce/ui/Factory\",\"tinymce/ui/Form\",\"tinymce/ui/Container\",\"tinymce/imagetoolsplugin/ImagePanel\",\"tinymce/imagetoolsplugin/ImageTools\",\"tinymce/imagetoolsplugin/Filters\",\"tinymce/imagetoolsplugin/Conversions\",\"tinymce/imagetoolsplugin/UndoStack\"],function(a,b,c,d,e,f,g,h,i,j,k){function l(a){return{blob:a,url:URL.createObjectURL(a)}}function m(a){a&&URL.revokeObjectURL(a.url)}function n(a){b.each(a,m)}function o(c,j,o){function p(a){var b,c,d,e;b=M.find(\"#w\")[0],c=M.find(\"#h\")[0],d=parseInt(b.value(),10),e=parseInt(c.value(),10),M.find(\"#constrain\")[0].checked()&&ha&&ia&&d&&e&&(\"w\"==a.control.settings.name?(e=Math.round(d*ja),c.value(e)):(d=Math.round(e*ka),b.value(d))),ha=d,ia=e}function q(a){return Math.round(100*a)+\"%\"}function r(){M.find(\"#undo\").disabled(!la.canUndo()),M.find(\"#redo\").disabled(!la.canRedo()),M.statusbar.find(\"#save\").disabled(!la.canUndo())}function s(){M.find(\"#undo\").disabled(!0),M.find(\"#redo\").disabled(!0)}function t(a){a&&T.imageSrc(a.url)}function u(a){return function(){var c=b.grep(ga,function(b){return b.settings.name!=a});b.each(c,function(a){a.hide()}),a.show()}}function v(a){P=l(a),t(P)}function w(a){c=l(a),t(c),n(la.add(c).removed),r()}function x(){var a=T.selection();h.crop(c.blob,a.x,a.y,a.w,a.h).then(function(a){w(a),A()})}function y(a){var b=[].slice.call(arguments,1);return function(){var d=P||c;a.apply(this,[d.blob].concat(b)).then(v)}}function z(a){var b=[].slice.call(arguments,1);return function(){a.apply(this,[c.blob].concat(b)).then(w)}}function A(){t(c),m(P),u(N)(),r()}function B(){P&&(w(P.blob),A())}function C(){var a=T.zoom();2>a&&(a+=.1),T.zoom(a)}function D(){var a=T.zoom();a>.1&&(a-=.1),T.zoom(a)}function E(){c=la.undo(),t(c),r()}function F(){c=la.redo(),t(c),r()}function G(){j(c.blob),M.close()}function H(a){return new e({layout:\"flex\",direction:\"row\",labelGap:5,border:\"0 0 1 0\",align:\"center\",pack:\"center\",padding:\"0 10 0 10\",spacing:5,flex:0,minHeight:60,defaults:{classes:\"imagetool\",type:\"button\"},items:a})}function I(a,b){return H([{text:\"Back\",onclick:A},{type:\"spacer\",flex:1},{text:\"Apply\",subtype:\"primary\",onclick:B}]).hide().on(\"show\",function(){s(),b(c.blob).then(function(a){var b=l(a);t(b),m(P),P=b})})}function J(a,b,d,e,f){function g(a){b(c.blob,a).then(function(a){var b=l(a);t(b),m(P),P=b})}return H([{text:\"Back\",onclick:A},{type:\"spacer\",flex:1},{type:\"slider\",flex:1,ondragend:function(a){g(a.value)},minValue:e,maxValue:f,value:d,previewFilter:q},{type:\"spacer\",flex:1},{text:\"Apply\",subtype:\"primary\",onclick:B}]).hide().on(\"show\",function(){this.find(\"slider\").value(d),s()})}function K(a,b){function d(){var a,d,e;a=M.find(\"#r\")[0].value(),d=M.find(\"#g\")[0].value(),e=M.find(\"#b\")[0].value(),b(c.blob,a,d,e).then(function(a){var b=l(a);t(b),m(P),P=b})}return H([{text:\"Back\",onclick:A},{type:\"spacer\",flex:1},{type:\"slider\",label:\"R\",name:\"r\",minValue:0,value:1,maxValue:2,ondragend:d,previewFilter:q},{type:\"slider\",label:\"G\",name:\"g\",minValue:0,value:1,maxValue:2,ondragend:d,previewFilter:q},{type:\"slider\",label:\"B\",name:\"b\",minValue:0,value:1,maxValue:2,ondragend:d,previewFilter:q},{type:\"spacer\",flex:1},{text:\"Apply\",subtype:\"primary\",onclick:B}]).hide().on(\"show\",function(){M.find(\"#r,#g,#b\").value(1),s()})}function L(a){a.control.value()===!0&&(ja=ia/ha,ka=ha/ia)}var M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la=new k;Q=H([{text:\"Back\",onclick:A},{type:\"spacer\",flex:1},{text:\"Apply\",subtype:\"primary\",onclick:x}]).hide().on(\"show hide\",function(a){T.toggleCropRect(\"show\"==a.type)}).on(\"show\",s),R=H([{text:\"Back\",onclick:A},{type:\"spacer\",flex:1},{type:\"textbox\",name:\"w\",label:\"Width\",size:4,onkeyup:p},{type:\"textbox\",name:\"h\",label:\"Height\",size:4,onkeyup:p},{type:\"checkbox\",name:\"constrain\",text:\"Constrain proportions\",checked:!0,onchange:L},{type:\"spacer\",flex:1},{text:\"Apply\",subtype:\"primary\",onclick:\"submit\"}]).hide().on(\"submit\",function(a){var b=parseInt(M.find(\"#w\").value(),10),c=parseInt(M.find(\"#h\").value(),10);a.preventDefault(),z(h.resize,b,c)(),A()}).on(\"show\",s),S=H([{text:\"Back\",onclick:A},{type:\"spacer\",flex:1},{icon:\"fliph\",tooltip:\"Flip horizontally\",onclick:y(h.flip,\"h\")},{icon:\"flipv\",tooltip:\"Flip vertically\",onclick:y(h.flip,\"v\")},{icon:\"rotateleft\",tooltip:\"Rotate counterclockwise\",onclick:y(h.rotate,-90)},{icon:\"rotateright\",tooltip:\"Rotate clockwise\",onclick:y(h.rotate,90)},{type:\"spacer\",flex:1},{text:\"Apply\",subtype:\"primary\",onclick:B}]).hide().on(\"show\",s),W=I(\"Invert\",i.invert),ca=I(\"Sharpen\",i.sharpen),da=I(\"Emboss\",i.emboss),X=J(\"Brightness\",i.brightness,0,-1,1),Y=J(\"Hue\",i.hue,180,0,360),Z=J(\"Saturate\",i.saturate,0,-1,1),$=J(\"Contrast\",i.contrast,0,-1,1),_=J(\"Grayscale\",i.grayscale,0,0,1),aa=J(\"Sepia\",i.sepia,0,0,1),ba=K(\"Colorize\",i.colorize),ea=J(\"Gamma\",i.gamma,0,-1,1),fa=J(\"Exposure\",i.exposure,1,0,2),O=H([{text:\"Back\",onclick:A},{type:\"spacer\",flex:1},{text:\"hue\",icon:\"hue\",onclick:u(Y)},{text:\"saturate\",icon:\"saturate\",onclick:u(Z)},{text:\"sepia\",icon:\"sepia\",onclick:u(aa)},{text:\"emboss\",icon:\"emboss\",onclick:u(da)},{text:\"exposure\",icon:\"exposure\",onclick:u(fa)},{type:\"spacer\",flex:1}]).hide(),N=H([{tooltip:\"Crop\",icon:\"crop\",onclick:u(Q)},{tooltip:\"Resize\",icon:\"resize2\",onclick:u(R)},{tooltip:\"Orientation\",icon:\"orientation\",onclick:u(S)},{tooltip:\"Brightness\",icon:\"sun\",onclick:u(X)},{tooltip:\"Sharpen\",icon:\"sharpen\",onclick:u(ca)},{tooltip:\"Contrast\",icon:\"contrast\",onclick:u($)},{tooltip:\"Color levels\",icon:\"drop\",onclick:u(ba)},{tooltip:\"Gamma\",icon:\"gamma\",onclick:u(ea)},{tooltip:\"Invert\",icon:\"invert\",onclick:u(W)}]),T=new g({flex:1,imageSrc:c.url}),U=new f({layout:\"flex\",direction:\"column\",border:\"0 1 0 0\",padding:5,spacing:5,items:[{type:\"button\",icon:\"undo\",tooltip:\"Undo\",name:\"undo\",onclick:E},{type:\"button\",icon:\"redo\",tooltip:\"Redo\",name:\"redo\",onclick:F},{type:\"button\",icon:\"zoomin\",tooltip:\"Zoom in\",onclick:C},{type:\"button\",icon:\"zoomout\",tooltip:\"Zoom out\",onclick:D}]}),V=new f({type:\"container\",layout:\"flex\",direction:\"row\",align:\"stretch\",flex:1,items:[U,T]}),ga=[N,Q,R,S,O,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa],M=d.create(\"window\",{layout:\"flex\",direction:\"column\",align:\"stretch\",minWidth:Math.min(a.DOM.getViewPort().w,800),minHeight:Math.min(a.DOM.getViewPort().h,650),title:\"Edit image\",items:ga.concat([V]),buttons:[{text:\"Save\",name:\"save\",subtype:\"primary\",onclick:G},{text:\"Cancel\",onclick:\"close\"}]}),M.renderTo(document.body).reflow(),M.on(\"close\",function(){o(),n(la.data),la=null,P=null}),la.add(c),r(),T.on(\"load\",function(){ha=T.imageSize().w,ia=T.imageSize().h,ja=ia/ha,ka=ha/ia,M.find(\"#w\").value(ha),M.find(\"#h\").value(ia)})}function p(a){return new c(function(b,c){o(l(a),b,c)})}return{edit:p}}),d(\"tinymce/imagetoolsplugin/Plugin\",[\"tinymce/PluginManager\",\"tinymce/Env\",\"tinymce/util/Promise\",\"tinymce/util/URI\",\"tinymce/util/Tools\",\"tinymce/imagetoolsplugin/ImageTools\",\"tinymce/imagetoolsplugin/Conversions\",\"tinymce/imagetoolsplugin/Dialog\"],function(a,b,c,d,e,f,g,h){a.add(\"imagetools\",function(a){function i(b){function c(a){return a.indexOf(\"px\")==a.length-2}var d,e;return d=b.style.width,e=b.style.height,d||e?c(d)&&c(e)?{w:parseInt(d,10),h:parseInt(e,10)}:null:(d=a.$(b).attr(\"width\"),e=a.$(b).attr(\"height\"),d&&e?{w:parseInt(d,10),h:parseInt(e,10)}:null)}function j(b,c){var d,e;c&&(d=b.style.width,e=b.style.height,(d||e)&&a.$(b).css({width:c.w,height:c.h}).removeAttr(\"data-mce-style\"),d=b.width,e=b.height,(d||e)&&a.$(b).attr({width:c.w,height:c.h}))}function k(a){return{w:a.naturalWidth,h:a.naturalHeight}}function l(){return a.selection.getNode()}function m(){return\"imagetools\"+A++}function n(b){var c=b.src;return 0===c.indexOf(\"data:\")||0===c.indexOf(\"blob:\")||new d(c).host===a.documentBaseURI.host}function o(b){return-1!==e.inArray(a.settings.imagetools_cors_hosts,new d(b.src).host)}function p(a){return new c(function(b){var c=new XMLHttpRequest;c.onload=function(){b(this.response)},c.open(\"GET\",a,!0),c.responseType=\"blob\",c.send()})}function q(b){var c=b.src;return o(b)?p(b.src):(n(b)||(b=new Image,c=a.settings.imagetools_proxy,b.src+=(-1===c.indexOf(\"?\")?\"?\":\"&\")+\"url=\"+encodeURIComponent(b.src)),g.imageToBlob(b))}function r(){var b;return b=a.editorUpload.blobCache.getByUri(l().src),b?b:q(l()).then(function(b){return g.blobToBase64(b).then(function(c){var d=a.editorUpload.blobCache,e=d.create(m(),b,c);return d.add(e),e})})}function s(b){return g.blobToDataUri(b).then(function(c){var e,f,g,h,i;return i=l(),e=m(),g=a.editorUpload.blobCache,f=d.parseDataUri(c).data,h=g.create(e,b,f),g.add(h),a.undoManager.transact(function(){function b(){a.$(i).off(\"load\",b),a.nodeChanged()}a.$(i).on(\"load\",b),a.$(i).attr({src:h.blobUri()}).removeAttr(\"data-mce-src\")}),h})}function t(b){return function(){return a._scanForImages().then(r).then(b).then(s)}}function u(a){return function(){return t(function(b){var c=i(l());return c&&j(l(),{w:c.h,h:c.w}),f.rotate(b.blob(),a)})()}}function v(a){return function(){return t(function(b){return f.flip(b.blob(),a)})()}}function w(){var a=l(),b=k(a);a&&q(a).then(h.edit).then(function(d){return new c(function(c){g.blobToImage(d).then(function(e){var f=k(e);(b.w!=f.w||b.h!=f.h)&&i(a)&&j(a,f),URL.revokeObjectURL(e.src),c(d)})})}).then(s,function(){})}function x(){a.addButton(\"rotateleft\",{title:\"Rotate counterclockwise\",onclick:u(-90)}),a.addButton(\"rotateright\",{title:\"Rotate clockwise\",onclick:u(90)}),a.addButton(\"flipv\",{title:\"Flip vertically\",onclick:v(\"v\")}),a.addButton(\"fliph\",{title:\"Flip horizontally\",onclick:v(\"h\")}),a.addButton(\"editimage\",{title:\"Edit image\",onclick:w}),a.addButton(\"imageoptions\",{title:\"Image options\",icon:\"options\",cmd:\"mceImage\"})}function y(b){var c=a.dom.is(b,\"img:not([data-mce-object],[data-mce-placeholder])\");return c&&(n(b)||o(b)||a.settings.imagetools_proxy)}function z(){var b=a.settings.imagetools_toolbar;b||(b=\"rotateleft rotateright | flipv fliph | crop editimage imageoptions\"),a.addContextToolbar(y,b)}var A=0;b.fileApi&&(x(),z())})}),f([\"tinymce/imagetoolsplugin/Canvas\",\"tinymce/imagetoolsplugin/Mime\",\"tinymce/imagetoolsplugin/ImageSize\",\"tinymce/imagetoolsplugin/Conversions\",\"tinymce/imagetoolsplugin/ImageTools\",\"tinymce/imagetoolsplugin/CropRect\",\"tinymce/imagetoolsplugin/ImagePanel\",\"tinymce/imagetoolsplugin/ColorMatrix\",\"tinymce/imagetoolsplugin/Filters\",\"tinymce/imagetoolsplugin/UndoStack\",\"tinymce/imagetoolsplugin/Dialog\",\"tinymce/imagetoolsplugin/Plugin\"])}(this);\n//# sourceMappingURL=plugin.min.js.map"]}