{"version":3,"sources":["plugin.min.js"],"names":["tinymce","PluginManager","add","a","b","c","n","f","RegExp","g","h","i","j","k","l","m","o","p","getBody","q","selection"," ","­","d","e","state","fire","getBookmark","walk","nodeType","nodeValue","test","push","length","replace","dom","create","lastChild","insertAfter","remove","select","moveToBookmark","this","on","active","addCommand","addButton","title","cmd","onPostRender","addMenuItem","text","selectable","context","prependToContext","format","draft"],"mappings":"AAAAA,QAAQC,cAAcC,IAAI,cAAc,SAASC,GAAG,QAASC,GAAEA,GAAG,QAASC,GAAEF,GAAG,MAAM,uCAAuCG,EAAEH,GAAG,KAAKA,EAAE,UAAU,QAASI,KAAI,GAAIJ,GAAEC,EAAE,EAAG,KAAID,IAAKG,GAAEF,GAAGD,CAAE,OAAO,IAAIK,QAAO,IAAIJ,EAAE,IAAI,KAAK,QAASK,KAAI,GAAIN,GAAEC,EAAE,EAAG,KAAID,IAAKG,GAAEF,IAAIA,GAAG,KAAKA,GAAG,YAAYE,EAAEH,EAAG,OAAOC,GAAE,GAAIM,GAAEC,EAAEC,EAAEC,EAAEC,EAAEC,EAAET,EAAEU,EAAEC,EAAEd,EAAEe,UAAUC,EAAEhB,EAAEiB,SAAU,IAAGd,GAAGe,IAAI,OAAOC,IAAI,OAAOC,GAAGA,EAAEC,EAAEC,MAAMF,EAAEpB,EAAEuB,KAAK,eAAeD,MAAMF,IAAIP,EAAET,IAAIH,IAAIW,EAAEI,EAAEQ,eAAeJ,EAAE,IAAIZ,KAAKX,QAAQ4B,KAAKX,EAAE,SAASd,GAAG,GAAGA,EAAE0B,UAAU1B,EAAE2B,WAAWd,EAAEe,KAAK5B,EAAE2B,YAAYnB,EAAEqB,KAAK7B,IAAI,cAAcS,EAAE,EAAEA,EAAED,EAAEsB,OAAOrB,IAAI,CAAC,IAAIC,EAAEF,EAAEC,GAAGkB,UAAUjB,EAAEA,EAAEqB,QAAQlB,EAAEX,GAAGS,EAAEX,EAAEgC,IAAIC,OAAO,MAAM,KAAKvB,GAAGH,EAAEI,EAAEuB,WAAWlC,EAAEgC,IAAIG,YAAY5B,EAAEC,EAAEC,GAAIT,GAAEgC,IAAII,OAAO5B,EAAEC,QAAS,KAAID,EAAER,EAAEgC,IAAIK,OAAO/B,IAAIQ,GAAGL,EAAED,EAAEsB,OAAO,EAAErB,GAAG,EAAEA,IAAIT,EAAEgC,IAAII,OAAO5B,EAAEC,GAAG,EAAGO,GAAEsB,eAAe1B,GAAG,QAASV,KAAI,GAAID,GAAEsC,IAAKvC,GAAEwC,GAAG,cAAc,SAASxC,GAAGC,EAAEwC,OAAOzC,EAAEsB,SAAS,GAAIF,GAAEC,EAAEkB,IAAKvC,GAAE0C,WAAW,iBAAiBzC,GAAGD,EAAE2C,UAAU,eAAeC,MAAM,4BAA4BC,IAAI,iBAAiBC,aAAa5C,IAAIF,EAAE+C,YAAY,eAAeC,KAAK,4BAA4BH,IAAI,iBAAiBC,aAAa5C,EAAE+C,YAAW,EAAGC,QAAQ,OAAOC,kBAAiB,IAAKnD,EAAEwC,GAAG,mBAAmB,SAASxC,GAAGoB,GAAG,OAAOpB,EAAEoD,SAASpD,EAAEqD,QAAQjC,GAAE,EAAGnB,GAAE","file":"plugin.min.js","sourcesContent":["tinymce.PluginManager.add(\"visualchars\",function(a){function b(b){function c(a){return'<span data-mce-bogus=\"1\" class=\"mce-'+n[a]+'\">'+a+\"</span>\"}function f(){var a,b=\"\";for(a in n)b+=a;return new RegExp(\"[\"+b+\"]\",\"g\")}function g(){var a,b=\"\";for(a in n)b&&(b+=\",\"),b+=\"span.mce-\"+n[a];return b}var h,i,j,k,l,m,n,o,p=a.getBody(),q=a.selection;if(n={\" \":\"nbsp\",\"­\":\"shy\"},d=!d,e.state=d,a.fire(\"VisualChars\",{state:d}),o=f(),b&&(m=q.getBookmark()),d)for(i=[],tinymce.walk(p,function(a){3==a.nodeType&&a.nodeValue&&o.test(a.nodeValue)&&i.push(a)},\"childNodes\"),j=0;j<i.length;j++){for(k=i[j].nodeValue,k=k.replace(o,c),l=a.dom.create(\"div\",null,k);h=l.lastChild;)a.dom.insertAfter(h,i[j]);a.dom.remove(i[j])}else for(i=a.dom.select(g(),p),j=i.length-1;j>=0;j--)a.dom.remove(i[j],1);q.moveToBookmark(m)}function c(){var b=this;a.on(\"VisualChars\",function(a){b.active(a.state)})}var d,e=this;a.addCommand(\"mceVisualChars\",b),a.addButton(\"visualchars\",{title:\"Show invisible characters\",cmd:\"mceVisualChars\",onPostRender:c}),a.addMenuItem(\"visualchars\",{text:\"Show invisible characters\",cmd:\"mceVisualChars\",onPostRender:c,selectable:!0,context:\"view\",prependToContext:!0}),a.on(\"beforegetcontent\",function(a){d&&\"raw\"!=a.format&&!a.draft&&(d=!0,b(!1))})});\n//# sourceMappingURL=plugin.min.js.map"]}