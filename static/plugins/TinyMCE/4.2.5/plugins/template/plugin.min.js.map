{"version":3,"sources":["plugin.min.js"],"names":["tinymce","PluginManager","add","a","b","c","settings","templates","util","XHR","send","url","success","JSON","parse","indexOf","each","contentCSS","documentBaseURI","toAbsolute","f","e","d","find","getEl","contentWindow","document","open","write","close","g","control","value","content","text","description","h","length","push","selected","title","windowManager","layout","direction","align","padding","spacing","items","type","flex","label","name","values","onselect","border","onsubmit","width","getParam","height","fire","alert","split","Date","replace","getFullYear","getYear","getMonth","getDate","getHours","getMinutes","getSeconds","translate","getDay","dom","select","hasClass","RegExp","test","className","i","j","k","l","selection","getContent","create","appendChild","cloneNode","innerHTML","getLang","execCommand","addVisual","addCommand","addButton","onclick","addMenuItem","context","on","node"],"mappings":"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","file":"plugin.min.js","sourcesContent":["tinymce.PluginManager.add(\"template\",function(a){function b(b){return function(){var c=a.settings.templates;\"string\"==typeof c?tinymce.util.XHR.send({url:c,success:function(a){b(tinymce.util.JSON.parse(a))}}):b(c)}}function c(b){function c(b){function c(b){if(-1==b.indexOf(\"<html>\")){var c=\"\";tinymce.each(a.contentCSS,function(b){c+='<link type=\"text/css\" rel=\"stylesheet\" href=\"'+a.documentBaseURI.toAbsolute(b)+'\">'}),b=\"<!DOCTYPE html><html><head>\"+c+\"</head><body>\"+b+\"</body></html>\"}b=f(b,\"template_preview_replace_values\");var e=d.find(\"iframe\")[0].getEl().contentWindow.document;e.open(),e.write(b),e.close()}var g=b.control.value();g.url?tinymce.util.XHR.send({url:g.url,success:function(a){e=a,c(e)}}):(e=g.content,c(e)),d.find(\"#description\")[0].text(b.control.value().description)}var d,e,h=[];return b&&0!==b.length?(tinymce.each(b,function(a){h.push({selected:!h.length,text:a.title,value:{url:a.url,content:a.content,description:a.description}})}),d=a.windowManager.open({title:\"Insert template\",layout:\"flex\",direction:\"column\",align:\"stretch\",padding:15,spacing:10,items:[{type:\"form\",flex:0,padding:0,items:[{type:\"container\",label:\"Templates\",items:{type:\"listbox\",label:\"Templates\",name:\"template\",values:h,onselect:c}}]},{type:\"label\",name:\"description\",label:\"Description\",text:\"Â \"},{type:\"iframe\",flex:1,border:1}],onsubmit:function(){g(!1,e)},width:a.getParam(\"template_popup_width\",600),height:a.getParam(\"template_popup_height\",500)}),void d.find(\"listbox\")[0].fire(\"select\")):void a.windowManager.alert(\"No templates defined\")}function d(b,c){function d(a,b){if(a=\"\"+a,a.length<b)for(var c=0;c<b-a.length;c++)a=\"0\"+a;return a}var e=\"Sun Mon Tue Wed Thu Fri Sat Sun\".split(\" \"),f=\"Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday\".split(\" \"),g=\"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec\".split(\" \"),h=\"January February March April May June July August September October November December\".split(\" \");return c=c||new Date,b=b.replace(\"%D\",\"%m/%d/%Y\"),b=b.replace(\"%r\",\"%I:%M:%S %p\"),b=b.replace(\"%Y\",\"\"+c.getFullYear()),b=b.replace(\"%y\",\"\"+c.getYear()),b=b.replace(\"%m\",d(c.getMonth()+1,2)),b=b.replace(\"%d\",d(c.getDate(),2)),b=b.replace(\"%H\",\"\"+d(c.getHours(),2)),b=b.replace(\"%M\",\"\"+d(c.getMinutes(),2)),b=b.replace(\"%S\",\"\"+d(c.getSeconds(),2)),b=b.replace(\"%I\",\"\"+((c.getHours()+11)%12+1)),b=b.replace(\"%p\",\"\"+(c.getHours()<12?\"AM\":\"PM\")),b=b.replace(\"%B\",\"\"+a.translate(h[c.getMonth()])),b=b.replace(\"%b\",\"\"+a.translate(g[c.getMonth()])),b=b.replace(\"%A\",\"\"+a.translate(f[c.getDay()])),b=b.replace(\"%a\",\"\"+a.translate(e[c.getDay()])),b=b.replace(\"%%\",\"%\")}function e(b){var c=a.dom,d=a.getParam(\"template_replace_values\");h(c.select(\"*\",b),function(a){h(d,function(b,e){c.hasClass(a,e)&&\"function\"==typeof d[e]&&d[e](a)})})}function f(b,c){return h(a.getParam(c),function(a,c){\"function\"!=typeof a&&(b=b.replace(new RegExp(\"\\\\{\\\\$\"+c+\"\\\\}\",\"g\"),a))}),b}function g(b,c){function g(a,b){return new RegExp(\"\\\\b\"+b+\"\\\\b\",\"g\").test(a.className)}var i,j,k=a.dom,l=a.selection.getContent();c=f(c,\"template_replace_values\"),i=k.create(\"div\",null,c),j=k.select(\".mceTmpl\",i),j&&j.length>0&&(i=k.create(\"div\",null),i.appendChild(j[0].cloneNode(!0))),h(k.select(\"*\",i),function(b){g(b,a.getParam(\"template_cdate_classes\",\"cdate\").replace(/\\s+/g,\"|\"))&&(b.innerHTML=d(a.getParam(\"template_cdate_format\",a.getLang(\"template.cdate_format\")))),g(b,a.getParam(\"template_mdate_classes\",\"mdate\").replace(/\\s+/g,\"|\"))&&(b.innerHTML=d(a.getParam(\"template_mdate_format\",a.getLang(\"template.mdate_format\")))),g(b,a.getParam(\"template_selected_content_classes\",\"selcontent\").replace(/\\s+/g,\"|\"))&&(b.innerHTML=l)}),e(i),a.execCommand(\"mceInsertContent\",!1,i.innerHTML),a.addVisual()}var h=tinymce.each;a.addCommand(\"mceInsertTemplate\",g),a.addButton(\"template\",{title:\"Insert template\",onclick:b(c)}),a.addMenuItem(\"template\",{text:\"Insert template\",onclick:b(c),context:\"insert\"}),a.on(\"PreProcess\",function(b){var c=a.dom;h(c.select(\"div\",b.node),function(b){c.hasClass(b,\"mceTmpl\")&&(h(c.select(\"*\",b),function(b){c.hasClass(b,a.getParam(\"template_mdate_classes\",\"mdate\").replace(/\\s+/g,\"|\"))&&(b.innerHTML=d(a.getParam(\"template_mdate_format\",a.getLang(\"template.mdate_format\"))))}),e(b))})})});\n//# sourceMappingURL=plugin.min.js.map"]}